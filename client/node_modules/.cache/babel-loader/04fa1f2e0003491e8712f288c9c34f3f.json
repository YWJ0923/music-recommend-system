{"ast":null,"code":"import _slicedToArray from\"D:/Programming/Project/Music_Recommend_System/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import{Button,Card,Carousel,Col,Image,Row}from\"antd\";import{LeftOutlined,RightOutlined}from\"@ant-design/icons\";import axios from\"axios\";import{SERVER_URL}from\"../../utils/constant\";import{Link}from\"react-router-dom\";import{playBarStore}from\"../../stores/playBarStore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Meta=Card.Meta;export default function Discover(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),musicList=_useState2[0],setMusicList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),albumList=_useState4[0],setAlbumList=_useState4[1];useEffect(function(){axios({method:'GET',url:SERVER_URL+'latestMusics'}).then(function(response){setMusicList(response.data.data);});axios({method:'GET',url:SERVER_URL+'latestAlbums'}).then(function(response){setAlbumList(response.data.data);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',margin:'0 0 20px 0',fontSize:'30px',fontWeight:'bold'},children:\"\\u65B0\\u6B4C\\u9996\\u53D1\"}),/*#__PURE__*/_jsx(Row,{gutter:[0,5],children:musicList.map(function(music){return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{style:{height:'70px',display:'flex',width:'315px'},children:[/*#__PURE__*/_jsx(Link,{to:\"/album/\".concat(music.albumId),children:/*#__PURE__*/_jsx(\"img\",{alt:music.albumName,src:music.albumImg,style:{width:'70px',height:'70px',marginRight:'10px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{height:'70px'},children:[/*#__PURE__*/_jsx(Button,{type:\"link\",onClick:function onClick(){playBarStore.addMusic(music);},style:{padding:'0px'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'35px',lineHeight:'15px',fontSize:'15px'},children:music.musicName})}),/*#__PURE__*/_jsx(Link,{to:\"/artist/\".concat(music.artistId),children:/*#__PURE__*/_jsx(\"div\",{style:{height:'35px',lineHeight:'21px',fontSize:'13px',color:'#999'},children:music.artistName})})]})]})});})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',margin:'20px 0',fontSize:'30px',fontWeight:'bold'},children:\"\\u65B0\\u789F\\u9996\\u53D1\"}),/*#__PURE__*/_jsx(Row,{gutter:[10,5],children:albumList.map(function(album){return/*#__PURE__*/_jsx(Col,{span:4.8,children:/*#__PURE__*/_jsxs(\"div\",{style:{height:'250px',width:'180px'},children:[/*#__PURE__*/_jsx(Link,{to:\"/album/\".concat(album.albumId),children:/*#__PURE__*/_jsx(\"img\",{alt:album.albumName,src:album.albumImg,style:{width:'180px',height:'180px',marginRight:'10px'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{height:'60px'},children:[/*#__PURE__*/_jsx(Link,{to:\"/album/\".concat(album.albumId),children:/*#__PURE__*/_jsx(Button,{type:\"text\",style:{padding:'0'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'30px',lineHeight:'15px',fontSize:'15px',marginTop:'5px',overflow:'hidden'},children:album.albumName})})}),/*#__PURE__*/_jsx(Link,{to:\"/artist/\".concat(album.artistId),children:/*#__PURE__*/_jsx(\"div\",{style:{height:'30px',lineHeight:'21px',fontSize:'13px',color:'#999',overflow:'hidden'},children:album.artistName})})]})]})});})})]})]});}","map":{"version":3,"sources":["D:/Programming/Project/Music_Recommend_System/client/src/pages/Discover/index.jsx"],"names":["React","useEffect","useRef","useState","Button","Card","Carousel","Col","Image","Row","LeftOutlined","RightOutlined","axios","SERVER_URL","Link","playBarStore","Meta","Discover","musicList","setMusicList","albumList","setAlbumList","method","url","then","response","data","textAlign","margin","fontSize","fontWeight","map","music","height","display","width","albumId","albumName","albumImg","marginRight","addMusic","padding","lineHeight","musicName","artistId","color","artistName","album","marginTop","overflow"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,MAA1B,CAAkCC,QAAlC,KAAiD,OAAjD,CACA,OAAQC,MAAR,CAAgBC,IAAhB,CAAsBC,QAAtB,CAAgCC,GAAhC,CAAqCC,KAArC,CAA4CC,GAA5C,KAAsD,MAAtD,CACA,OAAQC,YAAR,CAAsBC,aAAtB,KAA0C,mBAA1C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,sBAAzB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,YAAR,KAA2B,2BAA3B,C,gJAEQC,CAAAA,I,CAASX,I,CAATW,I,CAER,cAAe,SAASC,CAAAA,QAAT,EAAoB,eACGd,QAAQ,CAAC,EAAD,CADX,wCACxBe,SADwB,eACbC,YADa,8BAEGhB,QAAQ,CAAC,EAAD,CAFX,yCAExBiB,SAFwB,eAEbC,YAFa,eAI/BpB,SAAS,CAAC,UAAM,CACZW,KAAK,CAAC,CACFU,MAAM,CAAE,KADN,CAEFC,GAAG,CAAEV,UAAU,CAAG,cAFhB,CAAD,CAAL,CAGGW,IAHH,CAGQ,SAACC,QAAD,CAAc,CAClBN,YAAY,CAACM,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAZ,CACH,CALD,EAMAd,KAAK,CAAC,CACFU,MAAM,CAAE,KADN,CAEFC,GAAG,CAAEV,UAAU,CAAG,cAFhB,CAAD,CAAL,CAGGW,IAHH,CAGQ,SAACC,QAAD,CAAc,CAClBJ,YAAY,CAACI,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAZ,CACH,CALD,EAMH,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACI,wCACI,oCACI,YAAK,KAAK,CAAE,CAACC,SAAS,CAAE,QAAZ,CAAsBC,MAAM,CAAE,YAA9B,CAA4CC,QAAQ,CAAE,MAAtD,CAA8DC,UAAU,CAAE,MAA1E,CAAZ,sCADJ,cAEI,KAAC,GAAD,EAAK,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAb,UACSZ,SAAS,CAACa,GAAV,CAAc,SAACC,KAAD,CAAW,CACtB,mBAAQ,KAAC,GAAD,wBACJ,aAAK,KAAK,CAAE,CAACC,MAAM,CAAE,MAAT,CAAiBC,OAAO,CAAE,MAA1B,CAAkCC,KAAK,CAAE,OAAzC,CAAZ,wBACI,KAAC,IAAD,EAAM,EAAE,kBAAYH,KAAK,CAACI,OAAlB,CAAR,uBACI,YAAK,GAAG,CAAEJ,KAAK,CAACK,SAAhB,CAA2B,GAAG,CAAEL,KAAK,CAACM,QAAtC,CAAgD,KAAK,CAAE,CAACH,KAAK,CAAE,MAAR,CAAgBF,MAAM,CAAE,MAAxB,CAAgCM,WAAW,CAAE,MAA7C,CAAvD,EADJ,EADJ,cAII,aAAK,KAAK,CAAE,CAACN,MAAM,CAAE,MAAT,CAAZ,wBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,OAAO,CAAE,kBAAM,CAAClB,YAAY,CAACyB,QAAb,CAAsBR,KAAtB,EAA8B,CAAlE,CAAoE,KAAK,CAAE,CAACS,OAAO,CAAE,KAAV,CAA3E,uBACI,YAAK,KAAK,CAAE,CAACR,MAAM,CAAE,MAAT,CAAiBS,UAAU,CAAE,MAA7B,CAAqCb,QAAQ,CAAE,MAA/C,CAAZ,UAAqEG,KAAK,CAACW,SAA3E,EADJ,EADJ,cAII,KAAC,IAAD,EAAM,EAAE,mBAAaX,KAAK,CAACY,QAAnB,CAAR,uBACI,YAAK,KAAK,CAAE,CAACX,MAAM,CAAE,MAAT,CAAiBS,UAAU,CAAE,MAA7B,CAAqCb,QAAQ,CAAE,MAA/C,CAAuDgB,KAAK,CAAE,MAA9D,CAAZ,UAAoFb,KAAK,CAACc,UAA1F,EADJ,EAJJ,GAJJ,GADI,EAAR,CAeH,CAhBA,CADT,EAFJ,GADJ,cAuBI,oCACI,YAAK,KAAK,CAAE,CAACnB,SAAS,CAAE,QAAZ,CAAsBC,MAAM,CAAE,QAA9B,CAAwCC,QAAQ,CAAE,MAAlD,CAA0DC,UAAU,CAAE,MAAtE,CAAZ,sCADJ,cAEI,KAAC,GAAD,EAAK,MAAM,CAAE,CAAC,EAAD,CAAK,CAAL,CAAb,UACKV,SAAS,CAACW,GAAV,CAAc,SAACgB,KAAD,CAAW,CACtB,mBAAQ,KAAC,GAAD,EAAK,IAAI,CAAE,GAAX,uBACJ,aAAK,KAAK,CAAE,CAACd,MAAM,CAAE,OAAT,CAAkBE,KAAK,CAAE,OAAzB,CAAZ,wBACI,KAAC,IAAD,EAAM,EAAE,kBAAYY,KAAK,CAACX,OAAlB,CAAR,uBACI,YAAK,GAAG,CAAEW,KAAK,CAACV,SAAhB,CAA2B,GAAG,CAAEU,KAAK,CAACT,QAAtC,CAAgD,KAAK,CAAE,CAACH,KAAK,CAAE,OAAR,CAAiBF,MAAM,CAAE,OAAzB,CAAkCM,WAAW,CAAE,MAA/C,CAAvD,EADJ,EADJ,cAII,aAAK,KAAK,CAAE,CAACN,MAAM,CAAE,MAAT,CAAZ,wBACI,KAAC,IAAD,EAAM,EAAE,kBAAYc,KAAK,CAACX,OAAlB,CAAR,uBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,KAAK,CAAE,CAACK,OAAO,CAAE,GAAV,CAA3B,uBACI,YAAK,KAAK,CAAE,CAACR,MAAM,CAAE,MAAT,CAAiBS,UAAU,CAAE,MAA7B,CAAqCb,QAAQ,CAAE,MAA/C,CAAuDmB,SAAS,CAAE,KAAlE,CAAyEC,QAAQ,CAAE,QAAnF,CAAZ,UAA2GF,KAAK,CAACV,SAAjH,EADJ,EADJ,EADJ,cAMI,KAAC,IAAD,EAAM,EAAE,mBAAaU,KAAK,CAACH,QAAnB,CAAR,uBACI,YAAK,KAAK,CAAE,CAACX,MAAM,CAAE,MAAT,CAAiBS,UAAU,CAAE,MAA7B,CAAqCb,QAAQ,CAAE,MAA/C,CAAuDgB,KAAK,CAAE,MAA9D,CAAsEI,QAAQ,CAAE,QAAhF,CAAZ,UAAwGF,KAAK,CAACD,UAA9G,EADJ,EANJ,GAJJ,GADI,EAAR,CAiBH,CAlBA,CADL,EAFJ,GAvBJ,GADJ,CAkDH","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport {Button, Card, Carousel, Col, Image, Row} from \"antd\";\r\nimport {LeftOutlined, RightOutlined} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport {SERVER_URL} from \"../../utils/constant\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function Discover() {\r\n    const [musicList, setMusicList] = useState([]);\r\n    const [albumList, setAlbumList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'latestMusics'\r\n        }).then((response) => {\r\n            setMusicList(response.data.data);\r\n        });\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'latestAlbums'\r\n        }).then((response) => {\r\n            setAlbumList(response.data.data);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <div style={{textAlign: 'center', margin: '0 0 20px 0', fontSize: '30px', fontWeight: 'bold'}}>新歌首发</div>\r\n                <Row gutter={[0, 5]}>\r\n                        {musicList.map((music) => {\r\n                            return (<Col>\r\n                                <div style={{height: '70px', display: 'flex', width: '315px'}}>\r\n                                    <Link to={`/album/${music.albumId}`}>\r\n                                        <img alt={music.albumName} src={music.albumImg} style={{width: '70px', height: '70px', marginRight: '10px'}} />\r\n                                    </Link>\r\n                                    <div style={{height: '70px'}}>\r\n                                        <Button type=\"link\" onClick={() => {playBarStore.addMusic(music);}} style={{padding: '0px'}}>\r\n                                            <div style={{height: '35px', lineHeight: '15px', fontSize: '15px'}}>{music.musicName}</div>\r\n                                        </Button>\r\n                                        <Link to={`/artist/${music.artistId}`}>\r\n                                            <div style={{height: '35px', lineHeight: '21px', fontSize: '13px', color: '#999'}}>{music.artistName}</div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Col>);\r\n                        })}\r\n                </Row>\r\n            </div>\r\n            <div>\r\n                <div style={{textAlign: 'center', margin: '20px 0', fontSize: '30px', fontWeight: 'bold'}}>新碟首发</div>\r\n                <Row gutter={[10, 5]}>\r\n                    {albumList.map((album) => {\r\n                        return (<Col span={4.8}>\r\n                            <div style={{height: '250px', width: '180px'}}>\r\n                                <Link to={`/album/${album.albumId}`}>\r\n                                    <img alt={album.albumName} src={album.albumImg} style={{width: '180px', height: '180px', marginRight: '10px'}} />\r\n                                </Link>\r\n                                <div style={{height: '60px'}}>\r\n                                    <Link to={`/album/${album.albumId}`}>\r\n                                        <Button type=\"text\" style={{padding: '0'}}>\r\n                                            <div style={{height: '30px', lineHeight: '15px', fontSize: '15px', marginTop: '5px', overflow: 'hidden'}}>{album.albumName}</div>\r\n                                        </Button>\r\n                                    </Link>\r\n                                    <Link to={`/artist/${album.artistId}`}>\r\n                                        <div style={{height: '30px', lineHeight: '21px', fontSize: '13px', color: '#999', overflow: 'hidden'}}>{album.artistName}</div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </Col>);\r\n                    })}\r\n                </Row>\r\n            </div>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}