{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\Project\\\\Music_Recommend_System\\\\client\\\\src\\\\pages\\\\ArtistList\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Layout, Menu, Row, Col, Card } from 'antd';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { SERVER_URL } from '../../utils/constant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Content,\n  Sider\n} = Layout;\nconst {\n  SubMenu\n} = Menu;\nconst {\n  Meta\n} = Card;\nexport default function ArtistList(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [selectedKeys, setSelectedKeys] = useState('artist_location=hot');\n  useEffect(() => {\n    // const {artistLocation, artistType} = props.match.params;\n    const params = new URLSearchParams(props.location.search);\n    const artistLocation = params.get('artist_location');\n    const artistType = params.get('artist_type');\n\n    if (artistLocation === 'hot') {\n      axios({\n        method: 'GET',\n        url: SERVER_URL + 'artistList',\n        params: {\n          artistLocation: artistLocation\n        }\n      }).then(response => {\n        if (response.data.status === 200) {\n          setData(response.data.data);\n          setSelectedKeys('artist_location=hot');\n        } else {\n          props.history.push('/error');\n        }\n      });\n    } else {\n      axios({\n        method: 'GET',\n        url: SERVER_URL + 'artistList',\n        params: {\n          artistLocation: artistLocation,\n          artistType: artistType\n        }\n      }).then(response => {\n        if (response.data.status === 200) {\n          setData(response.data.data);\n          setSelectedKeys(`artist_location=${artistLocation}&artist_type=${artistType}`);\n        } else {\n          props.history.push('/error');\n        }\n      });\n    }\n  }, [props]);\n\n  const handleClick = obj => {\n    props.history.push(`/artist_list?${obj.key}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Sider, {\n      style: {\n        width: 250\n      },\n      children: /*#__PURE__*/_jsxDEV(Menu, {\n        mode: \"inline\",\n        style: {\n          height: '100%'\n        },\n        onClick: handleClick,\n        defaultOpenKeys: ['0', '1', '2'],\n        selectedKeys: selectedKeys,\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          children: \"\\u70ED\\u95E8\\u6B4C\\u624B\"\n        }, \"artist_location=hot\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n          title: \"\\u534E\\u8BED\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u534E\\u8BED\\u7537\\u6B4C\\u624B\"\n          }, \"artist_location=0&artist_type=0\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u534E\\u8BED\\u5973\\u6B4C\\u624B\"\n          }, \"artist_location=0&artist_type=1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u534E\\u8BED\\u7EC4\\u5408/\\u4E50\\u961F\"\n          }, \"artist_location=0&artist_type=2\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, \"0\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n          title: \"\\u6B27\\u7F8E\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u6B27\\u7F8E\\u7537\\u6B4C\\u624B\"\n          }, \"artist_location=1&artist_type=0\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u6B27\\u7F8E\\u5973\\u6B4C\\u624B\"\n          }, \"artist_location=1&artist_type=1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u6B27\\u7F8E\\u7EC4\\u5408/\\u4E50\\u961F\"\n          }, \"artist_location=1&artist_type=2\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, \"1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n          title: \"\\u65E5\\u97E9\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u65E5\\u97E9\\u7537\\u6B4C\\u624B\"\n          }, \"artist_location=2&artist_type=0\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u65E5\\u97E9\\u5973\\u6B4C\\u624B\"\n          }, \"artist_location=2&artist_type=1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"\\u65E5\\u97E9\\u7EC4\\u5408/\\u4E50\\u961F\"\n          }, \"artist_location=2&artist_type=2\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, \"2\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        paddingLeft: '10px',\n        minHeight: 280\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        gutter: [10, 5],\n        children: data.map((artist, index) => {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/artist/${artist.artistId}`,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                hoverable: true,\n                cover: /*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: artist.artistName,\n                  src: artist.artistImg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 60\n                }, this),\n                children: /*#__PURE__*/_jsxDEV(Meta, {\n                  title: artist.artistName,\n                  style: {\n                    textAlign: 'center'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ArtistList, \"2r/xJRktNeBKZ4QtXB1Nml/uE64=\");\n\n_c = ArtistList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArtistList\");","map":{"version":3,"sources":["D:/Programming/Project/Music_Recommend_System/client/src/pages/ArtistList/index.jsx"],"names":["Layout","Menu","Row","Col","Card","React","useState","useEffect","Link","axios","SERVER_URL","Content","Sider","SubMenu","Meta","ArtistList","props","data","setData","selectedKeys","setSelectedKeys","params","URLSearchParams","location","search","artistLocation","get","artistType","method","url","then","response","status","history","push","handleClick","obj","key","width","height","paddingLeft","minHeight","map","artist","index","artistId","artistName","artistImg","textAlign"],"mappings":"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","sourcesContent":["import { Layout, Menu, Row, Col, Card } from 'antd'\r\nimport React, { useState, useEffect } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport { SERVER_URL } from '../../utils/constant';\r\n\r\nconst { Content, Sider } = Layout;\r\nconst {SubMenu} = Menu;\r\nconst {Meta} = Card;\r\n\r\nexport default function ArtistList(props) {\r\n    const [data, setData] = useState([]);\r\n    const [selectedKeys, setSelectedKeys] = useState('artist_location=hot');\r\n\r\n    useEffect(() => {\r\n        // const {artistLocation, artistType} = props.match.params;\r\n        const params = new URLSearchParams(props.location.search);\r\n        const artistLocation = params.get('artist_location');\r\n        const artistType = params.get('artist_type');\r\n        if (artistLocation === 'hot') {\r\n            axios({\r\n                method: 'GET',\r\n                url: SERVER_URL + 'artistList',\r\n                params: {\r\n                    artistLocation: artistLocation\r\n                }\r\n            }).then((response) => {\r\n                if (response.data.status === 200) {\r\n                    setData(response.data.data);\r\n                    setSelectedKeys('artist_location=hot');\r\n                } else {\r\n                    props.history.push('/error');\r\n                }\r\n            });\r\n        } else {\r\n            axios({\r\n                method: 'GET',\r\n                url: SERVER_URL + 'artistList',\r\n                params: {\r\n                    artistLocation: artistLocation,\r\n                    artistType: artistType\r\n                }\r\n            }).then((response) => {\r\n                if (response.data.status === 200) {\r\n                    setData(response.data.data);\r\n                    setSelectedKeys(`artist_location=${artistLocation}&artist_type=${artistType}`);\r\n                } else {\r\n                    props.history.push('/error');\r\n                }\r\n            });\r\n        }\r\n    }, [props])\r\n\r\n    const handleClick = (obj) => {\r\n        props.history.push(`/artist_list?${obj.key}`);\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Sider style={{width: 250}}>\r\n                <Menu mode=\"inline\" style={{height: '100%'}} onClick={handleClick} defaultOpenKeys={['0', '1', '2']} selectedKeys={selectedKeys}>\r\n                    <Menu.Item key=\"artist_location=hot\">热门歌手</Menu.Item>\r\n                    <SubMenu key=\"0\" title=\"华语\">\r\n                        <Menu.Item key=\"artist_location=0&artist_type=0\">华语男歌手</Menu.Item>\r\n                        <Menu.Item key=\"artist_location=0&artist_type=1\">华语女歌手</Menu.Item>\r\n                        <Menu.Item key=\"artist_location=0&artist_type=2\">华语组合/乐队</Menu.Item>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"1\" title=\"欧美\">\r\n                        <Menu.Item key=\"artist_location=1&artist_type=0\">欧美男歌手</Menu.Item>\r\n                        <Menu.Item key=\"artist_location=1&artist_type=1\">欧美女歌手</Menu.Item>\r\n                        <Menu.Item key=\"artist_location=1&artist_type=2\">欧美组合/乐队</Menu.Item>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"2\" title=\"日韩\">\r\n                        <Menu.Item key=\"artist_location=2&artist_type=0\">日韩男歌手</Menu.Item>\r\n                        <Menu.Item key=\"artist_location=2&artist_type=1\">日韩女歌手</Menu.Item>\r\n                        <Menu.Item key=\"artist_location=2&artist_type=2\">日韩组合/乐队</Menu.Item>\r\n                    </SubMenu>\r\n                </Menu>\r\n            </Sider>\r\n            <Content style={{ paddingLeft: '10px', minHeight: 280}}>\r\n                <Row gutter={[10, 5]}>\r\n                    {data.map((artist, index) => {\r\n                        return (<Col span={6} key={index}>\r\n                            <Link to={`/artist/${artist.artistId}`}>\r\n                                    <Card hoverable cover={<img alt={artist.artistName} src={artist.artistImg} />}>\r\n                                            <Meta title={artist.artistName} style={{textAlign: 'center'}} />\r\n                                    </Card>\r\n                            </Link>\r\n                        </Col>)\r\n                    })}\r\n                </Row>\r\n            </Content>\r\n        </Layout>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}