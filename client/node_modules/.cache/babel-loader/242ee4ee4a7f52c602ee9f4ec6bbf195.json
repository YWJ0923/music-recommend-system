{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\Project\\\\MusicRecommendSystem\\\\front\\\\src\\\\components\\\\PlayBar\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { StepBackwardOutlined, StepForwardOutlined, CaretRightOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport PubSub from 'pubsub-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class PlayBar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      playList: [],\n      index: 0\n    };\n\n    this.playMusic = (msg, data) => {\n      for (let i = 0; i < this.state.playList.length; i++) {\n        if (this.state.playList[i].musicId === data.musicId) {\n          this.setState({\n            index: i\n          });\n          return;\n        }\n      }\n\n      this.setState(state => {\n        {\n          playList: [...state.playList];\n        }\n      });\n    };\n\n    this.playBackward = () => {\n      const newIndex = (this.state.index + 1) % this.state.playList.length;\n      this.setState({\n        index: newIndex\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.token = PubSub.subscribe('play', this.playMusic);\n  }\n\n  componentWillUnmount() {\n    PubSub.unsubscribe(this.token);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          left: 0,\n          bottom: 0,\n          height: '60px',\n          backgroundColor: 'black',\n          width: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: '5px auto',\n            width: '60%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            shape: \"circle\",\n            style: {\n              width: '40px',\n              height: '40px',\n              backgroundColor: 'black',\n              margin: 'auto 5px'\n            },\n            onClick: this.playBackward,\n            children: /*#__PURE__*/_jsxDEV(StepBackwardOutlined, {\n              style: {\n                color: 'white',\n                fontSize: '30px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            shape: \"circle\",\n            style: {\n              width: '50px',\n              height: '50px',\n              backgroundColor: 'black',\n              margin: 'auto 5px'\n            },\n            onClick: this.playOrPause,\n            children: /*#__PURE__*/_jsxDEV(CaretRightOutlined, {\n              style: {\n                color: 'white',\n                fontSize: '40px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            shape: \"circle\",\n            style: {\n              width: '40px',\n              height: '40px',\n              backgroundColor: 'black',\n              margin: 'auto 5px'\n            },\n            onClick: this.playForward,\n            children: /*#__PURE__*/_jsxDEV(StepForwardOutlined, {\n              style: {\n                color: 'white',\n                fontSize: '30px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        src: this.state.srcList[this.state.index]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["D:/Programming/Project/MusicRecommendSystem/front/src/components/PlayBar/index.jsx"],"names":["React","Component","StepBackwardOutlined","StepForwardOutlined","CaretRightOutlined","Button","PubSub","PlayBar","state","playList","index","playMusic","msg","data","i","length","musicId","setState","playBackward","newIndex","componentDidMount","token","subscribe","componentWillUnmount","unsubscribe","render","position","left","bottom","height","backgroundColor","width","margin","color","fontSize","playOrPause","playForward","srcList"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,oBAAR,EAA8BC,mBAA9B,EAAmDC,kBAAnD,QAA4E,mBAA5E;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;AAEA,eAAe,MAAMC,OAAN,SAAsBN,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAC3CO,KAD2C,GACnC;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,KAAK,EAAE;AAFH,KADmC;;AAAA,SAc3CC,SAd2C,GAc/B,CAACC,GAAD,EAAMC,IAAN,KAAe;AACvB,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,KAAL,CAAWC,QAAX,CAAoBM,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACjD,YAAI,KAAKN,KAAL,CAAWC,QAAX,CAAoBK,CAApB,EAAuBE,OAAvB,KAAmCH,IAAI,CAACG,OAA5C,EAAqD;AACjD,eAAKC,QAAL,CAAc;AAACP,YAAAA,KAAK,EAAEI;AAAR,WAAd;AACA;AACH;AACJ;;AACD,WAAKG,QAAL,CAAeT,KAAD,IAAW;AACrB;AAACC,UAAAA,QAAQ,EAAE,CAAC,GAAGD,KAAK,CAACC,QAAV;AAAsB;AACpC,OAFD;AAGH,KAxB0C;;AAAA,SA0B3CS,YA1B2C,GA0B5B,MAAM;AACjB,YAAMC,QAAQ,GAAG,CAAC,KAAKX,KAAL,CAAWE,KAAX,GAAmB,CAApB,IAAyB,KAAKF,KAAL,CAAWC,QAAX,CAAoBM,MAA9D;AACA,WAAKE,QAAL,CAAc;AAACP,QAAAA,KAAK,EAAES;AAAR,OAAd;AACH,KA7B0C;AAAA;;AAM3CC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,KAAL,GAAaf,MAAM,CAACgB,SAAP,CAAiB,MAAjB,EAAyB,KAAKX,SAA9B,CAAb;AACH;;AAEDY,EAAAA,oBAAoB,GAAG;AACnBjB,IAAAA,MAAM,CAACkB,WAAP,CAAmB,KAAKH,KAAxB;AACH;;AAmBDI,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAAE,OAAX;AAAoBC,UAAAA,IAAI,EAAE,CAA1B;AAA6BC,UAAAA,MAAM,EAAE,CAArC;AAAwCC,UAAAA,MAAM,EAAE,MAAhD;AAAwDC,UAAAA,eAAe,EAAE,OAAzE;AAAkFC,UAAAA,KAAK,EAAE;AAAzF,SAAZ;AAAA,+BACI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,MAAM,EAAE,UAAT;AAAqBD,YAAAA,KAAK,EAAE;AAA5B,WAAZ;AAAA,kCACI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAuB,YAAA,KAAK,EAAE;AAACA,cAAAA,KAAK,EAAE,MAAR;AAAgBF,cAAAA,MAAM,EAAE,MAAxB;AAAgCC,cAAAA,eAAe,EAAE,OAAjD;AAA0DE,cAAAA,MAAM,EAAE;AAAlE,aAA9B;AAA6G,YAAA,OAAO,EAAE,KAAKd,YAA3H;AAAA,mCACI,QAAC,oBAAD;AAAsB,cAAA,KAAK,EAAE;AAACe,gBAAAA,KAAK,EAAE,OAAR;AAAiBC,gBAAAA,QAAQ,EAAE;AAA3B;AAA7B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAuB,YAAA,KAAK,EAAE;AAACH,cAAAA,KAAK,EAAE,MAAR;AAAgBF,cAAAA,MAAM,EAAE,MAAxB;AAAgCC,cAAAA,eAAe,EAAE,OAAjD;AAA0DE,cAAAA,MAAM,EAAE;AAAlE,aAA9B;AAA6G,YAAA,OAAO,EAAE,KAAKG,WAA3H;AAAA,mCACI,QAAC,kBAAD;AAAoB,cAAA,KAAK,EAAE;AAACF,gBAAAA,KAAK,EAAE,OAAR;AAAiBC,gBAAAA,QAAQ,EAAE;AAA3B;AAA3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAOI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAuB,YAAA,KAAK,EAAE;AAACH,cAAAA,KAAK,EAAE,MAAR;AAAgBF,cAAAA,MAAM,EAAE,MAAxB;AAAgCC,cAAAA,eAAe,EAAE,OAAjD;AAA0DE,cAAAA,MAAM,EAAE;AAAlE,aAA9B;AAA6G,YAAA,OAAO,EAAE,KAAKI,WAA3H;AAAA,mCACI,QAAC,mBAAD;AAAqB,cAAA,KAAK,EAAE;AAACH,gBAAAA,KAAK,EAAE,OAAR;AAAiBC,gBAAAA,QAAQ,EAAE;AAA3B;AAA5B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAcI;AAAO,QAAA,GAAG,EAAE,KAAK1B,KAAL,CAAW6B,OAAX,CAAmB,KAAK7B,KAAL,CAAWE,KAA9B;AAAZ;AAAA;AAAA;AAAA;AAAA,cAdJ;AAAA,oBADJ;AAkBH;;AAlD0C","sourcesContent":["import React, { Component } from 'react'\r\nimport {StepBackwardOutlined, StepForwardOutlined, CaretRightOutlined} from '@ant-design/icons';\r\nimport { Button } from 'antd'\r\nimport PubSub from 'pubsub-js';\r\n\r\nexport default class PlayBar extends Component {\r\n    state = {\r\n        playList: [],\r\n        index: 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.token = PubSub.subscribe('play', this.playMusic);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        PubSub.unsubscribe(this.token);\r\n    }\r\n\r\n    playMusic = (msg, data) => {\r\n        for (let i = 0; i < this.state.playList.length; i++) {\r\n            if (this.state.playList[i].musicId === data.musicId) {\r\n                this.setState({index: i});\r\n                return;\r\n            }\r\n        }\r\n        this.setState((state) => {\r\n            {playList: [...state.playList, ]}\r\n        })\r\n    }\r\n\r\n    playBackward = () => {\r\n        const newIndex = (this.state.index + 1) % this.state.playList.length;\r\n        this.setState({index: newIndex});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div style={{position: 'fixed', left: 0, bottom: 0, height: '60px', backgroundColor: 'black', width: '100%'}}>\r\n                    <div style={{margin: '5px auto', width: '60%'}} >\r\n                        <Button shape='circle' style={{width: '40px', height: '40px', backgroundColor: 'black', margin: 'auto 5px'}} onClick={this.playBackward}>\r\n                            <StepBackwardOutlined style={{color: 'white', fontSize: '30px'}} />\r\n                        </Button>\r\n                        <Button shape='circle' style={{width: '50px', height: '50px', backgroundColor: 'black', margin: 'auto 5px'}} onClick={this.playOrPause}>\r\n                            <CaretRightOutlined style={{color: 'white', fontSize: '40px'}} />\r\n                        </Button>\r\n                        <Button shape='circle' style={{width: '40px', height: '40px', backgroundColor: 'black', margin: 'auto 5px'}} onClick={this.playForward}>\r\n                            <StepForwardOutlined style={{color: 'white', fontSize: '30px'}} />\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                <audio src={this.state.srcList[this.state.index]}></audio>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}