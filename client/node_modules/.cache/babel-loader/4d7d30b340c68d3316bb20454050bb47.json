{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\Project\\\\MusicRecommendSystem\\\\front\\\\src\\\\pages\\\\MyMusic\\\\CollectionList\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Image, Button, Table, Card } from 'antd';\nimport { SERVER_URL } from '../../../utils/constant';\nimport { playMusic } from '../../../utils/play';\nimport { getToken, removeToken } from '../../../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst collectionListColomns = [{\n  key: 'index',\n  render: (text, record, index) => {\n    return index + 1;\n  },\n  width: '50px'\n}, {\n  dataIndex: 'musicName',\n  key: 'musicName',\n  title: '歌曲',\n  ellipsis: true,\n  render: (text, record, index) => {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      type: \"link\",\n      onClick: () => {\n        playMusic(record);\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 21\n    }, this);\n  },\n  width: '300px'\n}, {\n  dataIndex: 'artistName',\n  key: 'artistName',\n  title: '歌手',\n  ellipsis: true,\n  render: (text, record, index) => {\n    return /*#__PURE__*/_jsxDEV(Link, {\n      to: `/artist/${record.artistId}`,\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }, this);\n  },\n  width: '200px'\n}, {\n  dataIndex: 'albumName',\n  key: 'albumName',\n  title: '专辑',\n  ellipsis: true,\n  render: (text, record, index) => {\n    return /*#__PURE__*/_jsxDEV(Link, {\n      to: `/album/${record.albumId}`,\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }, this);\n  },\n  width: '200px'\n}, {\n  dataIndex: 'timeLength',\n  key: 'timeLength',\n  title: '时长',\n  render: text => {\n    text = parseInt(text);\n    text /= 1000;\n    var min = Math.floor(text / 60);\n\n    if (min < 10) {\n      min = '0' + min;\n    }\n\n    var sec = Math.floor(text % 60);\n\n    if (sec < 10) {\n      sec = '0' + sec;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: min + ':' + sec\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }, this);\n  },\n  width: '100px'\n}];\nexport default function CollectionList(props) {\n  _s();\n\n  const [collectionList, setCollectionList] = useState({});\n  useEffect(() => {\n    axios({\n      method: 'GET',\n      url: SERVER_URL + 'collection_list/' + props.match.params.collection_list_id,\n      headers: {\n        Authorization: getToken()\n      }\n    }).then(response => {\n      if (response.data.status === 2) {\n        removeToken();\n        props.history.push('/');\n      } else if (response.data.status === 1) {\n        setCollectionList(response.data.data);\n      }\n    }); // eslint-disable-next-line\n  }, [props]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        height: '200px',\n        backgroundColor: 'white'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Image, {\n        alt: collectionList.collectionListName,\n        src: collectionList.collectionListImg,\n        style: {\n          margin: '0 10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        title: collectionList.collectionListName,\n        style: {\n          width: '100%'\n        },\n        bordered: false,\n        children: [collectionList.createDate, \" \\u521B\\u5EFA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: collectionListColomns,\n      dataSource: collectionList.musicVOList,\n      rowKey: record => record.musicId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CollectionList, \"NOPeAfuRX0MxKR37453AHpSWN98=\");\n\n_c = CollectionList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CollectionList\");","map":{"version":3,"sources":["D:/Programming/Project/MusicRecommendSystem/front/src/pages/MyMusic/CollectionList/index.jsx"],"names":["React","useEffect","useState","Link","axios","Image","Button","Table","Card","SERVER_URL","playMusic","getToken","removeToken","collectionListColomns","key","render","text","record","index","width","dataIndex","title","ellipsis","artistId","albumId","parseInt","min","Math","floor","sec","CollectionList","props","collectionList","setCollectionList","method","url","match","params","collection_list_id","headers","Authorization","then","response","data","status","history","push","display","height","backgroundColor","collectionListName","collectionListImg","margin","createDate","musicVOList","musicId"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport { Image, Button, Table, Card } from 'antd';\r\nimport { SERVER_URL } from '../../../utils/constant';\r\nimport { playMusic } from '../../../utils/play';\r\nimport { getToken, removeToken } from '../../../utils/auth';\r\n\r\nconst collectionListColomns = [\r\n    {\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n            return index + 1;\r\n        },\r\n        width: '50px'\r\n    },\r\n    {\r\n        dataIndex: 'musicName',\r\n        key: 'musicName',\r\n        title: '歌曲',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Button type=\"link\" onClick={() => {\r\n                playMusic(record);\r\n            }}>{text}</Button>);\r\n        },\r\n        width: '300px'\r\n    },\r\n    {\r\n        dataIndex: 'artistName',\r\n        key: 'artistName',\r\n        title: '歌手',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/artist/${record.artistId}`}>{text}</Link>);\r\n        },\r\n        width: '200px'\r\n    },\r\n    {\r\n        dataIndex: 'albumName',\r\n        key: 'albumName',\r\n        title: '专辑',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/album/${record.albumId}`}>{text}</Link>);\r\n        },\r\n        width: '200px'\r\n    },\r\n    {\r\n        dataIndex: 'timeLength',\r\n        key: 'timeLength',\r\n        title: '时长',\r\n        render: (text) => {\r\n            text = parseInt(text);\r\n            text /= 1000;\r\n            var min = Math.floor(text / 60);\r\n            if (min < 10) {\r\n                min = '0' + min;\r\n            }\r\n            var sec = Math.floor(text % 60);\r\n            if (sec < 10) {\r\n                sec = '0' + sec;\r\n            }\r\n            return (<span>{min + ':' + sec}</span>);\r\n        },\r\n        width: '100px'\r\n    }\r\n];\r\n\r\nexport default function CollectionList(props) {\r\n    const [collectionList, setCollectionList] = useState({});\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'collection_list/' + props.match.params.collection_list_id,\r\n            headers: {\r\n            Authorization: getToken()\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status === 2) {\r\n                removeToken();\r\n                props.history.push('/');\r\n            } else if (response.data.status === 1) {\r\n                setCollectionList(response.data.data);\r\n            }\r\n        });  // eslint-disable-next-line\r\n    }, [props]);\r\n\r\n    return (\r\n        <>\r\n            <div style={{display: 'flex', height: '200px', backgroundColor: 'white'}}>\r\n                <Image alt={collectionList.collectionListName} src={collectionList.collectionListImg} style={{margin: '0 10px'}}/>\r\n                <Card title={collectionList.collectionListName} style={{width: '100%'}} bordered={false}>\r\n                {collectionList.createDate} 创建\r\n                </Card>\r\n            </div>\r\n            <Table columns={collectionListColomns} dataSource={collectionList.musicVOList} rowKey={record => record.musicId} />\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}