{"ast":null,"code":"import { makeObservable, observable, action } from 'mobx';\nimport { getPlayUrl } from \"../utils/play\";\n\nclass PlayBarStore {\n  constructor() {\n    this.playList = [];\n    this.index = 0;\n    this.playUrl = '';\n\n    this.setPlayList = newPlayList => {\n      this.playList = newPlayList;\n    };\n\n    this.addMusic = newMusic => {\n      let newList = this.playList.filter(music => music.musicId !== newMusic.musicId);\n      newList.push(newMusic);\n      this.setPlayList(newList);\n      this.setIndex(newList.length - 1); // console.log(this.playList);\n    };\n\n    this.setIndex = newIndex => {\n      this.index = newIndex;\n      this.playUrl = getPlayUrl(this.playList[this.index]);\n      console.log(this.playUrl);\n    };\n\n    makeObservable(this, {\n      playList: observable,\n      index: observable,\n      setPlayList: action,\n      addMusic: action,\n      setIndex: action\n    });\n  }\n\n}\n\nexport const playBarStore = new PlayBarStore();","map":{"version":3,"sources":["D:/Programming/React/Music_Recommend_System/front/src/stores/playBarStore.js"],"names":["makeObservable","observable","action","getPlayUrl","PlayBarStore","constructor","playList","index","playUrl","setPlayList","newPlayList","addMusic","newMusic","newList","filter","music","musicId","push","setIndex","length","newIndex","console","log","playBarStore"],"mappings":"AAAA,SAAQA,cAAR,EAAwBC,UAAxB,EAAoCC,MAApC,QAAiD,MAAjD;AACA,SAAQC,UAAR,QAAyB,eAAzB;;AAEA,MAAMC,YAAN,CAAmB;AAOfC,EAAAA,WAAW,GAAG;AAAA,SANdC,QAMc,GANH,EAMG;AAAA,SAJdC,KAIc,GAJN,CAIM;AAAA,SAFdC,OAEc,GAFJ,EAEI;;AAAA,SAUdC,WAVc,GAUCC,WAAD,IAAiB;AAC3B,WAAKJ,QAAL,GAAgBI,WAAhB;AACH,KAZa;;AAAA,SAcdC,QAdc,GAcFC,QAAD,IAAc;AACrB,UAAIC,OAAO,GAAG,KAAKP,QAAL,CAAcQ,MAAd,CAAqBC,KAAK,IAAIA,KAAK,CAACC,OAAN,KAAkBJ,QAAQ,CAACI,OAAzD,CAAd;AACAH,MAAAA,OAAO,CAACI,IAAR,CAAaL,QAAb;AACA,WAAKH,WAAL,CAAiBI,OAAjB;AACA,WAAKK,QAAL,CAAcL,OAAO,CAACM,MAAR,GAAiB,CAA/B,EAJqB,CAKrB;AACH,KApBa;;AAAA,SAsBdD,QAtBc,GAsBFE,QAAD,IAAc;AACrB,WAAKb,KAAL,GAAaa,QAAb;AACA,WAAKZ,OAAL,GAAeL,UAAU,CAAC,KAAKG,QAAL,CAAc,KAAKC,KAAnB,CAAD,CAAzB;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKd,OAAjB;AACH,KA1Ba;;AACVR,IAAAA,cAAc,CAAC,IAAD,EAAO;AACjBM,MAAAA,QAAQ,EAAEL,UADO;AAEjBM,MAAAA,KAAK,EAAEN,UAFU;AAGjBQ,MAAAA,WAAW,EAAEP,MAHI;AAIjBS,MAAAA,QAAQ,EAAET,MAJO;AAKjBgB,MAAAA,QAAQ,EAAEhB;AALO,KAAP,CAAd;AAOH;;AAfc;;AAoCnB,OAAO,MAAMqB,YAAY,GAAG,IAAInB,YAAJ,EAArB","sourcesContent":["import {makeObservable, observable, action} from 'mobx';\r\nimport {getPlayUrl} from \"../utils/play\";\r\n\r\nclass PlayBarStore {\r\n    playList = [];\r\n\r\n    index = 0;\r\n\r\n    playUrl = '';\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            playList: observable,\r\n            index: observable,\r\n            setPlayList: action,\r\n            addMusic: action,\r\n            setIndex: action\r\n        })\r\n    }\r\n\r\n    setPlayList = (newPlayList) => {\r\n        this.playList = newPlayList;\r\n    }\r\n\r\n    addMusic = (newMusic) => {\r\n        let newList = this.playList.filter(music => music.musicId !== newMusic.musicId);\r\n        newList.push(newMusic);\r\n        this.setPlayList(newList);\r\n        this.setIndex(newList.length - 1);\r\n        // console.log(this.playList);\r\n    }\r\n\r\n    setIndex = (newIndex) => {\r\n        this.index = newIndex;\r\n        this.playUrl = getPlayUrl(this.playList[this.index]);\r\n        console.log(this.playUrl);\r\n    }\r\n}\r\n\r\nexport const playBarStore = new PlayBarStore();\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}