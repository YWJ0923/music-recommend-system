{"code":"(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[8],{331:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"default\",(function(){return w}));var i=a(34),s=a(0),n=a(38),r=a.n(n),c=a(340),l=a(288),u=a(339),d=a(50),o=a(284),m=a(338),b=a(322),j=a(323),h=a(59),x=a(44),O=a(49),f=a(93),p=a(4),y=c.a.Paragraph,g=l.a.Content,I=u.a.Meta,v=[{key:\"index\",render:function(t,e,a){return a+1}},{dataIndex:\"musicName\",key:\"musicName\",title:\"\\u6b4c\\u66f2\",render:function(t,e,a){return Object(p.jsx)(d.a,{type:\"link\",onClick:function(){f.a.addMusic(e)},children:t})},width:\"500px\"},{dataIndex:\"albumName\",key:\"albumName\",title:\"\\u4e13\\u8f91\",render:function(t,e,a){return Object(p.jsx)(h.b,{to:\"/album/\".concat(e.albumId),children:t})},width:\"400px\"},{dataIndex:\"timeLength\",key:\"timeLength\",title:\"\\u65f6\\u957f\",render:function(t){t=parseInt(t),t/=1e3;var e=Math.floor(t/60);e<10&&(e=\"0\"+e);var a=Math.floor(t%60);return a<10&&(a=\"0\"+a),Object(p.jsx)(\"span\",{children:e+\":\"+a})},width:\"100px\"}];function w(t){var e=Object(s.useState)({}),a=Object(i.a)(e,2),n=a[0],c=a[1],l=Object(s.useState)({artistAlbumVOList:[]}),d=Object(i.a)(l,2),f=d[0],w=d[1],k=Object(s.useState)(\"\"),N=Object(i.a)(k,2),S=N[0],L=N[1];Object(s.useEffect)((function(){A()}),[]);var A=function(){r()({method:\"GET\",url:x.a+\"artist/\"+t.match.params.artistId}).then((function(e){200===e.data.status?(c(e.data.data),L(\"music\")):t.history.push(\"/error\")}))};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(\"div\",{style:{display:\"flex\",height:\"200px\"},children:[Object(p.jsx)(\"img\",{alt:n.artistName,src:n.artistImg}),Object(p.jsx)(u.a,{title:n.artistName,style:{overflow:\"scroll\",overflowX:\"hidden\"},children:Object(p.jsx)(\"div\",{style:{overflow:\"auto\"},children:Object(p.jsx)(y,{ellipsis:{rows:3,expandable:!0,suffix:\"...\",symbol:\"\\u5c55\\u5f00\"},children:n.artistDescription})})})]}),Object(p.jsxs)(g,{style:{padding:\"10px\",minHeight:280},children:[Object(p.jsxs)(o.a,{mode:\"horizontal\",defaultSelectedKeys:\"music\",onClick:function(e){\"music\"===e.key?(\"{}\"===JSON.stringify(n)&&A(),L(\"music\")):(0===f.artistAlbumVOList.length&&r()({method:\"GET\",url:x.a+\"artist/album/\"+t.match.params.artistId}).then((function(e){2===e.data.status?(Object(O.b)(),t.history.push(\"/\")):1===e.data.status&&(w(e.data.data),L(\"album\"))})),L(\"album\"))},children:[Object(p.jsx)(o.a.Item,{children:\"\\u5355\\u66f2\"},\"music\"),Object(p.jsx)(o.a.Item,{children:\"\\u4e13\\u8f91\"},\"album\")]}),\"music\"===S?Object(p.jsx)(m.a,{columns:v,dataSource:n.musicVOList,showHeader:!1,pagination:{defaultPageSize:20},rowKey:function(t){return t.musicId}}):Object(p.jsx)(b.a,{gutter:[10,5],children:f.artistAlbumVOList.map((function(t){return Object(p.jsx)(j.a,{span:6,children:Object(p.jsx)(h.b,{to:\"/album/\".concat(t.albumId),children:Object(p.jsx)(u.a,{hoverable:!0,cover:Object(p.jsx)(\"img\",{alt:t.albumName,src:t.albumImg}),children:Object(p.jsx)(I,{title:t.albumName,style:{textAlign:\"center\"},description:t.albumPublishTime})})})})}))})]})]})}}}]);","name":"static/js/8.ac762a2e.chunk.js","map":{"version":3,"sources":["static/js/8.ac762a2e.chunk.js"],"names":["this","push","331","module","__webpack_exports__","__webpack_require__","r","d","Artist","D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","n","antd__WEBPACK_IMPORTED_MODULE_3__","antd__WEBPACK_IMPORTED_MODULE_4__","antd__WEBPACK_IMPORTED_MODULE_5__","antd__WEBPACK_IMPORTED_MODULE_6__","antd__WEBPACK_IMPORTED_MODULE_7__","antd__WEBPACK_IMPORTED_MODULE_8__","antd__WEBPACK_IMPORTED_MODULE_9__","antd__WEBPACK_IMPORTED_MODULE_10__","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","_utils_constant__WEBPACK_IMPORTED_MODULE_12__","_utils_auth__WEBPACK_IMPORTED_MODULE_13__","_stores_playBarStore__WEBPACK_IMPORTED_MODULE_14__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__","Paragraph","Content","Meta","colomns","key","render","text","record","index","dataIndex","title","Object","type","onClick","addMusic","children","width","to","concat","albumId","parseInt","min","Math","floor","sec","props","_useState","_useState2","musicData","setMusicData","_useState3","artistAlbumVOList","_useState4","albumData","setAlbumData","_useState5","_useState6","setType","getMusic","method","url","match","params","artistId","then","response","data","status","history","style","display","height","alt","artistName","src","artistImg","overflow","overflowX","ellipsis","rows","expandable","suffix","symbol","artistDescription","padding","minHeight","mode","defaultSelectedKeys","obj","JSON","stringify","length","Item","columns","dataSource","musicVOList","showHeader","pagination","defaultPageSize","rowKey","musicId","gutter","map","album","span","hoverable","cover","albumName","albumImg","textAlign","description","albumPublishTime"],"mappings":"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"},"input":"(this[\"webpackJsonpfront\"] = this[\"webpackJsonpfront\"] || []).push([[8],{\n\n/***/ 331:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Artist; });\n/* harmony import */ var D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(38);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(340);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(288);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(339);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(50);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(284);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(338);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(322);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(323);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(59);\n/* harmony import */ var _utils_constant__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(44);\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(49);\n/* harmony import */ var _stores_playBarStore__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(93);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(4);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__);\nvar Paragraph=antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Paragraph;var Content=antd__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].Content;var Meta=antd__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Meta;var colomns=[{key:'index',render:function render(text,record,index){return index+1;}},{dataIndex:'musicName',key:'musicName',title:'歌曲',render:function render(text,record,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{type:\"link\",onClick:function onClick(){_stores_playBarStore__WEBPACK_IMPORTED_MODULE_14__[/* playBarStore */ \"a\"].addMusic(record);},children:text});},width:'500px'},{dataIndex:'albumName',key:'albumName',title:'专辑',render:function render(text,record,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_11__[/* Link */ \"b\"],{to:\"/album/\".concat(record.albumId),children:text});},width:'400px'},{dataIndex:'timeLength',key:'timeLength',title:'时长',render:function render(text){text=parseInt(text);text/=1000;var min=Math.floor(text/60);if(min<10){min='0'+min;}var sec=Math.floor(text%60);if(sec<10){sec='0'+sec;}return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"span\",{children:min+':'+sec});},width:'100px'}];function Artist(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])({}),_useState2=Object(D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),musicData=_useState2[0],setMusicData=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])({artistAlbumVOList:[]}),_useState4=Object(D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState3,2),albumData=_useState4[0],setAlbumData=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(''),_useState6=Object(D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState5,2),type=_useState6[0],setType=_useState6[1];Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){getMusic();// eslint-disable-next-line\n},[]);var getMusic=function getMusic(){axios__WEBPACK_IMPORTED_MODULE_2___default()({method:'GET',url:_utils_constant__WEBPACK_IMPORTED_MODULE_12__[/* SERVER_URL */ \"a\"]+'artist/'+props.match.params.artistId}).then(function(response){if(response.data.status===200){setMusicData(response.data.data);setType('music');}else{props.history.push('/error');}});};var getAlbum=function getAlbum(){axios__WEBPACK_IMPORTED_MODULE_2___default()({method:'GET',url:_utils_constant__WEBPACK_IMPORTED_MODULE_12__[/* SERVER_URL */ \"a\"]+'artist/album/'+props.match.params.artistId}).then(function(response){if(response.data.status===2){Object(_utils_auth__WEBPACK_IMPORTED_MODULE_13__[/* removeToken */ \"b\"])();props.history.push('/');}else if(response.data.status===1){setAlbumData(response.data.data);setType('album');}});};var handleClick=function handleClick(obj){if(obj.key==='music'){if(JSON.stringify(musicData)==='{}'){getMusic();}setType('music');}else{if(albumData.artistAlbumVOList.length===0){getAlbum();}setType('album');}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{style:{display:'flex',height:'200px'},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"img\",{alt:musicData.artistName,src:musicData.artistImg}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{title:musicData.artistName,style:{overflow:'scroll',overflowX:'hidden'},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{style:{overflow:'auto'},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(Paragraph,{ellipsis:{rows:3,expandable:true,suffix:'...',symbol:'展开'},children:musicData.artistDescription})})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(Content,{style:{padding:'10px',minHeight:280},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(antd__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{mode:\"horizontal\",defaultSelectedKeys:\"music\",onClick:handleClick,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].Item,{children:\"\\u5355\\u66F2\"},\"music\"),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].Item,{children:\"\\u4E13\\u8F91\"},\"album\")]}),type==='music'?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{columns:colomns,dataSource:musicData.musicVOList,showHeader:false,pagination:{defaultPageSize:20},rowKey:function rowKey(record){return record.musicId;}}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"],{gutter:[10,5],children:albumData.artistAlbumVOList.map(function(album){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"],{span:6,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_11__[/* Link */ \"b\"],{to:\"/album/\".concat(album.albumId),children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{hoverable:true,cover:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"img\",{alt:album.albumName,src:album.albumImg}),children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(Meta,{title:album.albumName,style:{textAlign:'center'},description:album.albumPublishTime})})})});})})]})]});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:/Programming/Project/Music_Recommend_System/client/src/pages/Artist/index.jsx"],"names":["Paragraph","Typography","Content","Layout","Meta","Card","colomns","key","render","text","record","index","dataIndex","title","playBarStore","addMusic","width","albumId","parseInt","min","Math","floor","sec","Artist","props","useState","musicData","setMusicData","artistAlbumVOList","albumData","setAlbumData","type","setType","useEffect","getMusic","axios","method","url","SERVER_URL","match","params","artistId","then","response","data","status","history","push","getAlbum","removeToken","handleClick","obj","JSON","stringify","length","display","height","artistName","artistImg","overflow","overflowX","rows","expandable","suffix","symbol","artistDescription","padding","minHeight","musicVOList","defaultPageSize","musicId","map","album","albumName","albumImg","textAlign","albumPublishTime"],"mappings":"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","file":"x","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport { Card, Layout, Typography, Menu, Table, Button, Row, Col } from 'antd';\r\nimport {Link} from 'react-router-dom';\r\nimport { SERVER_URL } from '../../utils/constant';\r\nimport { removeToken } from '../../utils/auth';\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\n\r\nconst { Paragraph } = Typography;\r\nconst {Content} = Layout;\r\nconst {Meta} = Card;\r\n\r\nconst colomns = [\r\n    {\r\n        key: 'index',\r\n        render: (text,record,index) => {return index + 1;}\r\n    },\r\n    {\r\n        dataIndex: 'musicName',\r\n        key: 'musicName',\r\n        title: '歌曲',\r\n        render: (text, record, index) => {\r\n            return (<Button type=\"link\" onClick={() => {\r\n                playBarStore.addMusic(record);\r\n            }}>{text}</Button>);\r\n        },\r\n        width: '500px'\r\n    },\r\n    {\r\n        dataIndex: 'albumName',\r\n        key: 'albumName',\r\n        title: '专辑',\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/album/${record.albumId}`}>{text}</Link>);\r\n        },\r\n        width: '400px'\r\n    },\r\n    {\r\n        dataIndex: 'timeLength',\r\n        key: 'timeLength',\r\n        title: '时长',\r\n        render: (text) => {\r\n            text = parseInt(text);\r\n            text /= 1000;\r\n            var min = Math.floor(text / 60);\r\n            if (min < 10) {\r\n                min = '0' + min;\r\n            }\r\n            var sec = Math.floor(text % 60);\r\n            if (sec < 10) {\r\n                sec = '0' + sec;\r\n            }\r\n            return (<span>{min + ':' + sec}</span>);\r\n        },\r\n        width: '100px'\r\n    }\r\n];\r\n\r\nexport default function Artist(props) {\r\n    const [musicData, setMusicData] = useState({});\r\n    const [albumData, setAlbumData] = useState({artistAlbumVOList: []});\r\n    const [type, setType] = useState('');\r\n\r\n    useEffect(() => {\r\n        getMusic();  // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const getMusic = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'artist/' + props.match.params.artistId\r\n        }).then((response) => {\r\n            if (response.data.status === 200) {\r\n                setMusicData(response.data.data);\r\n                setType('music');\r\n            } else {\r\n                props.history.push('/error');\r\n            }\r\n        });\r\n    }\r\n\r\n    const getAlbum = () => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'artist/album/' + props.match.params.artistId\r\n        }).then((response) => {\r\n            if (response.data.status === 2) {\r\n                removeToken();\r\n                props.history.push('/');\r\n            } else if (response.data.status === 1) {\r\n                setAlbumData(response.data.data);\r\n                setType('album');\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleClick = (obj) => {\r\n        if (obj.key === 'music') {\r\n            if (JSON.stringify(musicData) === '{}') {\r\n                getMusic();\r\n            }\r\n            setType('music');\r\n        } else {\r\n            if (albumData.artistAlbumVOList.length === 0) {\r\n                getAlbum();\r\n            }\r\n            setType('album');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{display: 'flex', height: '200px'}}>\r\n                <img alt={musicData.artistName} src={musicData.artistImg} />\r\n                <Card title={musicData.artistName} style={{overflow: 'scroll', overflowX: 'hidden'}}>\r\n                    <div style={{overflow: 'auto'}}>\r\n                        <Paragraph ellipsis={{rows: 3, expandable: true, suffix: '...', symbol: '展开'}}>\r\n                            {musicData.artistDescription}\r\n                        </Paragraph>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n            <Content style={{ padding: '10px', minHeight: 280}}>\r\n                <Menu mode=\"horizontal\" defaultSelectedKeys=\"music\" onClick={handleClick}>\r\n                    <Menu.Item key=\"music\">\r\n                        单曲\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"album\">\r\n                        专辑\r\n                    </Menu.Item>\r\n                </Menu>\r\n                {type === 'music' ? \r\n                <Table columns={colomns} dataSource={musicData.musicVOList} showHeader={false} pagination={{defaultPageSize: 20}} rowKey={record => record.musicId} />\r\n                : <Row gutter={[10, 5]}>\r\n                    {albumData.artistAlbumVOList.map((album) => {\r\n                        return (<Col span={6}>\r\n                            <Link to={`/album/${album.albumId}`}>\r\n                                <Card hoverable cover={<img alt={album.albumName} src={album.albumImg} />}>\r\n                                        <Meta title={album.albumName} style={{textAlign: 'center'}} description={album.albumPublishTime} />\r\n                                </Card>\r\n                            </Link>\r\n                        </Col>)\r\n                    })}\r\n                </Row>}\r\n            </Content>\r\n        </>\r\n    )\r\n}\r\n"]}}