{"code":"(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[11],{342:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return _}));var a=i(35),n=i(0),c=i(59),r=i(34),s=i.n(r),l=i(292),o=i(50),d=i(289),u=i(339),h=i(338),p=i(39),b=i(49),j=i(92),m=i(7),f={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"}},{tag:\"path\",attrs:{d:\"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\"}}]},name:\"play-circle\",theme:\"outlined\"},x=i(8),O=function(t,e){return n.createElement(x.a,Object(m.a)(Object(m.a)({},t),{},{ref:e,icon:f}))};O.displayName=\"PlayCircleOutlined\";var y=n.forwardRef(O),g={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\"}}]},name:\"delete\",theme:\"outlined\"},v=function(t,e){return n.createElement(x.a,Object(m.a)(Object(m.a)({},t),{},{ref:e,icon:g}))};v.displayName=\"DeleteOutlined\";var w=n.forwardRef(v),k=i(26),L=i.n(k),I=i(93),N=i(133),z=i(36),C=i(4),E=l.a.confirm,M=[{key:\"index\",render:function(t,e,i){return i+1},width:\"50px\"},{dataIndex:\"musicName\",key:\"musicName\",title:\"\\u6b4c\\u66f2\",ellipsis:!0,render:function(t,e,i){return Object(C.jsx)(o.a,{type:\"link\",onClick:function(){I.a.addMusic(e)},style:{padding:\"0\"},children:t})},width:\"300px\"},{dataIndex:\"artistName\",key:\"artistName\",title:\"\\u6b4c\\u624b\",ellipsis:!0,render:function(t,e,i){return Object(C.jsx)(c.b,{to:\"/artist/\".concat(e.artistId),children:t})},width:\"150px\"},{dataIndex:\"albumName\",key:\"albumName\",title:\"\\u4e13\\u8f91\",ellipsis:!0,render:function(t,e,i){return Object(C.jsx)(c.b,{to:\"/album/\".concat(e.albumId),children:t})},width:\"150px\"},{dataIndex:\"timeLength\",key:\"timeLength\",title:\"\\u65f6\\u957f\",render:function(t){t=parseInt(t),t/=1e3;var e=Math.floor(t/60);e<10&&(e=\"0\"+e);var i=Math.floor(t%60);return i<10&&(i=\"0\"+i),Object(C.jsx)(\"span\",{children:e+\":\"+i})},width:\"100px\"}];function _(t){var e=Object(z.d)((function(){return I.a})).addPlayList,i=Object(n.useState)({}),c=Object(a.a)(i,2),r=c[0],l=c[1];Object(n.useEffect)((function(){s()({method:\"GET\",url:p.b+\"collection_list/\"+t.match.params.collection_list_id,headers:{Authorization:Object(b.a)()}}).then((function(e){401===e.data.status?(L.a.publish(\"logout\"),t.history.push(\"/\"),Object(N.a)(\"\\u8bf7\\u5148\\u767b\\u5f55\")):200===e.data.status?l(e.data.data):t.history.push(\"/error\")}))}),[t]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(\"div\",{style:{display:\"flex\",height:\"200px\",backgroundColor:\"white\",padding:\"0 10px\"},children:[Object(C.jsx)(d.a,{alt:r.collectionListName,src:r.collectionListImg,width:\"200px\"}),Object(C.jsxs)(\"div\",{style:{padding:\"0 10px\"},children:[Object(C.jsxs)(u.a,{title:r.collectionListName,style:{width:\"100%\",height:\"120px\"},bordered:!1,children:[r.createDate,\" \\u521b\\u5efa\"]}),Object(C.jsxs)(\"div\",{style:{padding:\"40px 20px\"},children:[Object(C.jsx)(o.a,{icon:Object(C.jsx)(y,{}),type:\"primary\",onClick:function(){return function(t){console.log(t),t.musicVOList.length>0&&e(t.musicVOList)}(r)},style:{marginRight:\"20px\"},children:\"\\u64ad\\u653e\\u5168\\u90e8\"}),Object(C.jsx)(o.a,{icon:Object(C.jsx)(w,{}),type:\"danger\",onClick:function(){return function(e){E({title:\"\\u786e\\u8ba4\\u5220\\u9664\",icon:Object(C.jsx)(j.a,{}),okText:\"\\u786e\\u8ba4\",cancelText:\"\\u53d6\\u6d88\",onOk:function(){s()({method:\"DELETE\",url:p.b+\"collection_list/\"+e.collectionListId,headers:{Authorization:Object(b.a)()}}).then((function(e){401===e.data.status?(L.a.publish(\"logout\"),t.history.push(\"/\"),Object(N.a)(\"\\u8bf7\\u5148\\u767b\\u5f55\")):200===e.data.status?(L.a.publish(\"getCollectionList\"),t.history.replace(\"/my_music\")):t.history.replace(\"/error\")}))}})}(r)},children:\"\\u5220\\u9664\\u6b4c\\u5355\"})]})]})]}),Object(C.jsx)(h.a,{columns:M,dataSource:r.musicVOList,rowKey:function(t){return t.musicId}})]})}}}]);","name":"static/js/11.e002234c.chunk.js","map":{"version":3,"sources":["static/js/11.e002234c.chunk.js"],"names":["this","push","342","module","__webpack_exports__","__webpack_require__","r","d","CollectionList","slicedToArray","react","react_router_dom","axios","axios_default","n","modal","es_button","es_image","card","table","constant","auth","ExclamationCircleOutlined","objectSpread2","asn_PlayCircleOutlined","icon","tag","attrs","viewBox","focusable","children","name","theme","AntdIcon","icons_PlayCircleOutlined_PlayCircleOutlined","props","ref","Object","displayName","icons_PlayCircleOutlined","asn_DeleteOutlined","icons_DeleteOutlined_DeleteOutlined","icons_DeleteOutlined","pubsub","pubsub_default","playBarStore","common","es","jsx_runtime","CollectionList_confirm","confirm","collectionListColomns","key","render","text","record","index","width","dataIndex","title","ellipsis","type","onClick","addMusic","style","padding","to","concat","artistId","albumId","parseInt","min","Math","floor","sec","addPlayList","_useState","_useState2","collectionList","setCollectionList","method","url","match","params","collection_list_id","headers","Authorization","then","response","data","status","a","publish","history","display","height","backgroundColor","alt","collectionListName","src","collectionListImg","bordered","createDate","console","log","musicVOList","length","playCollectionList","marginRight","okText","cancelText","onOk","collectionListId","replace","deleteCollectionList","columns","dataSource","rowKey","musicId"],"mappings":"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"},"input":"(this[\"webpackJsonpfront\"] = this[\"webpackJsonpfront\"] || []).push([[11],{\n\n/***/ 342:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ CollectionList; });\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(34);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 8 modules\nvar modal = __webpack_require__(292);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(50);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/image/index.js + 27 modules\nvar es_image = __webpack_require__(289);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 36 modules\nvar card = __webpack_require__(339);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 111 modules\nvar table = __webpack_require__(338);\n\n// EXTERNAL MODULE: ./src/utils/constant.js\nvar constant = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./src/utils/auth.js\nvar auth = __webpack_require__(49);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js + 1 modules\nvar ExclamationCircleOutlined = __webpack_require__(92);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/PlayCircleOutlined.js\n// This icon file is generated automatically.\nvar PlayCircleOutlined_PlayCircleOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\n      }\n    }, {\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\"\n      }\n    }]\n  },\n  \"name\": \"play-circle\",\n  \"theme\": \"outlined\"\n};\n/* harmony default export */ var asn_PlayCircleOutlined = (PlayCircleOutlined_PlayCircleOutlined);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 12 modules\nvar AntdIcon = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js\n // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\n\nvar icons_PlayCircleOutlined_PlayCircleOutlined = function PlayCircleOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, props), {}, {\n    ref: ref,\n    icon: asn_PlayCircleOutlined\n  }));\n};\n\nicons_PlayCircleOutlined_PlayCircleOutlined.displayName = 'PlayCircleOutlined';\n/* harmony default export */ var icons_PlayCircleOutlined = (/*#__PURE__*/react[\"forwardRef\"](icons_PlayCircleOutlined_PlayCircleOutlined));\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js\n// This icon file is generated automatically.\nvar DeleteOutlined_DeleteOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\"\n      }\n    }]\n  },\n  \"name\": \"delete\",\n  \"theme\": \"outlined\"\n};\n/* harmony default export */ var asn_DeleteOutlined = (DeleteOutlined_DeleteOutlined);\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js\n // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\n\nvar icons_DeleteOutlined_DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, props), {}, {\n    ref: ref,\n    icon: asn_DeleteOutlined\n  }));\n};\n\nicons_DeleteOutlined_DeleteOutlined.displayName = 'DeleteOutlined';\n/* harmony default export */ var icons_DeleteOutlined = (/*#__PURE__*/react[\"forwardRef\"](icons_DeleteOutlined_DeleteOutlined));\n// EXTERNAL MODULE: ./node_modules/pubsub-js/src/pubsub.js\nvar pubsub = __webpack_require__(26);\nvar pubsub_default = /*#__PURE__*/__webpack_require__.n(pubsub);\n\n// EXTERNAL MODULE: ./src/stores/playBarStore.js\nvar playBarStore = __webpack_require__(93);\n\n// EXTERNAL MODULE: ./src/utils/common.js\nvar common = __webpack_require__(133);\n\n// EXTERNAL MODULE: ./node_modules/mobx-react-lite/es/index.js + 17 modules\nvar es = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/pages/MyMusic/CollectionList/index.jsx\nvar CollectionList_confirm=modal[\"a\" /* default */].confirm;var collectionListColomns=[{key:'index',render:function render(text,record,index){return index+1;},width:'50px'},{dataIndex:'musicName',key:'musicName',title:'歌曲',ellipsis:true,render:function render(text,record,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{type:\"link\",onClick:function onClick(){playBarStore[\"a\" /* playBarStore */].addMusic(record);},style:{padding:'0'},children:text});},width:'300px'},{dataIndex:'artistName',key:'artistName',title:'歌手',ellipsis:true,render:function render(text,record,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/artist/\".concat(record.artistId),children:text});},width:'150px'},{dataIndex:'albumName',key:'albumName',title:'专辑',ellipsis:true,render:function render(text,record,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/album/\".concat(record.albumId),children:text});},width:'150px'},{dataIndex:'timeLength',key:'timeLength',title:'时长',render:function render(text){text=parseInt(text);text/=1000;var min=Math.floor(text/60);if(min<10){min='0'+min;}var sec=Math.floor(text%60);if(sec<10){sec='0'+sec;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:min+':'+sec});},width:'100px'}];function CollectionList(props){var _useLocalObservable=Object(es[\"d\" /* useLocalObservable */])(function(){return playBarStore[\"a\" /* playBarStore */];}),addPlayList=_useLocalObservable.addPlayList;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),collectionList=_useState2[0],setCollectionList=_useState2[1];Object(react[\"useEffect\"])(function(){axios_default()({method:'GET',url:constant[\"b\" /* SERVER_URL */]+'collection_list/'+props.match.params.collection_list_id,headers:{Authorization:Object(auth[\"a\" /* getToken */])()}}).then(function(response){if(response.data.status===401){pubsub_default.a.publish('logout');props.history.push('/');Object(common[\"a\" /* showNotification */])('请先登录');}else if(response.data.status===200){setCollectionList(response.data.data);}else{props.history.push('/error');}});// eslint-disable-next-line\n},[props]);var deleteCollectionList=function deleteCollectionList(collectionList){CollectionList_confirm({title:'确认删除',icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ExclamationCircleOutlined[\"a\" /* default */],{}),okText:'确认',cancelText:'取消',onOk:function onOk(){axios_default()({method:'DELETE',url:constant[\"b\" /* SERVER_URL */]+'collection_list/'+collectionList.collectionListId,headers:{Authorization:Object(auth[\"a\" /* getToken */])()}}).then(function(response){if(response.data.status===401){pubsub_default.a.publish('logout');props.history.push('/');Object(common[\"a\" /* showNotification */])('请先登录');}else if(response.data.status===200){pubsub_default.a.publish('getCollectionList');props.history.replace('/my_music');}else{props.history.replace('/error');}});}});};var playCollectionList=function playCollectionList(collectionList){console.log(collectionList);if(collectionList.musicVOList.length>0){addPlayList(collectionList.musicVOList);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',height:'200px',backgroundColor:'white',padding:'0 10px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_image[\"a\" /* default */],{alt:collectionList.collectionListName,src:collectionList.collectionListImg,width:\"200px\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'0 10px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(card[\"a\" /* default */],{title:collectionList.collectionListName,style:{width:'100%',height:'120px'},bordered:false,children:[collectionList.createDate,\" \\u521B\\u5EFA\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'40px 20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(icons_PlayCircleOutlined,{}),type:\"primary\",onClick:function onClick(){return playCollectionList(collectionList);},style:{marginRight:'20px'},children:\"\\u64AD\\u653E\\u5168\\u90E8\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(icons_DeleteOutlined,{}),type:\"danger\",onClick:function onClick(){return deleteCollectionList(collectionList);},children:\"\\u5220\\u9664\\u6B4C\\u5355\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(table[\"a\" /* default */],{columns:collectionListColomns,dataSource:collectionList.musicVOList,rowKey:function rowKey(record){return record.musicId;}})]});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:/Programming/Project/Music_Recommend_System/client/node_modules/@ant-design/icons-svg/es/asn/PlayCircleOutlined.js","D:/Programming/Project/Music_Recommend_System/client/node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js","D:/Programming/Project/Music_Recommend_System/client/node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","D:/Programming/Project/Music_Recommend_System/client/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","D:/Programming/Project/Music_Recommend_System/client/src/pages/MyMusic/CollectionList/index.jsx"],"names":["PlayCircleOutlined","props","ref","React","AntdIcon","_objectSpread","icon","PlayCircleOutlinedSvg","displayName","DeleteOutlined","DeleteOutlinedSvg","confirm","Modal","collectionListColomns","key","render","text","record","index","width","dataIndex","title","ellipsis","playBarStore","addMusic","padding","artistId","albumId","parseInt","min","Math","floor","sec","CollectionList","useLocalObservable","addPlayList","useState","collectionList","setCollectionList","useEffect","axios","method","url","SERVER_URL","match","params","collection_list_id","headers","Authorization","getToken","then","response","data","status","PubSub","publish","history","push","showNotification","deleteCollectionList","okText","cancelText","onOk","collectionListId","replace","playCollectionList","console","log","musicVOList","length","display","height","backgroundColor","collectionListName","collectionListImg","createDate","marginRight","musicId"],"mappings":"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","file":"x","sourcesContent":["// This icon file is generated automatically.\nvar PlayCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\" } }] }, \"name\": \"play-circle\", \"theme\": \"outlined\" };\nexport default PlayCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlayCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlayCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlayCircleOutlined = function PlayCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlayCircleOutlinedSvg\n  }));\n};\n\nPlayCircleOutlined.displayName = 'PlayCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlayCircleOutlined);","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport {Image, Button, Table, Card, Modal} from 'antd';\r\nimport { SERVER_URL } from '../../../utils/constant';\r\nimport { getToken } from '../../../utils/auth';\r\nimport {DeleteOutlined, ExclamationCircleOutlined, PlayCircleOutlined} from \"@ant-design/icons\";\r\nimport PubSub from \"pubsub-js\";\r\nimport {playBarStore} from \"../../../stores/playBarStore\";\r\nimport {showNotification} from \"../../../utils/common\";\r\nimport {useLocalObservable} from \"mobx-react\";\r\n\r\nconst {confirm} = Modal;\r\nconst collectionListColomns = [\r\n    {\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n            return index + 1;\r\n        },\r\n        width: '50px'\r\n    },\r\n    {\r\n        dataIndex: 'musicName',\r\n        key: 'musicName',\r\n        title: '歌曲',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Button type=\"link\" onClick={() => {\r\n                playBarStore.addMusic(record);\r\n            }} style={{padding: '0'}}>{text}</Button>);\r\n        },\r\n        width: '300px'\r\n    },\r\n    {\r\n        dataIndex: 'artistName',\r\n        key: 'artistName',\r\n        title: '歌手',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/artist/${record.artistId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'albumName',\r\n        key: 'albumName',\r\n        title: '专辑',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/album/${record.albumId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'timeLength',\r\n        key: 'timeLength',\r\n        title: '时长',\r\n        render: (text) => {\r\n            text = parseInt(text);\r\n            text /= 1000;\r\n            var min = Math.floor(text / 60);\r\n            if (min < 10) {\r\n                min = '0' + min;\r\n            }\r\n            var sec = Math.floor(text % 60);\r\n            if (sec < 10) {\r\n                sec = '0' + sec;\r\n            }\r\n            return (<span>{min + ':' + sec}</span>);\r\n        },\r\n        width: '100px'\r\n    }\r\n];\r\n\r\nexport default function CollectionList(props) {\r\n    const {addPlayList} = useLocalObservable(() => playBarStore);\r\n\r\n    const [collectionList, setCollectionList] = useState({});\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'collection_list/' + props.match.params.collection_list_id,\r\n            headers: {\r\n                Authorization: getToken()\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status === 401) {\r\n                PubSub.publish('logout');\r\n                props.history.push('/');\r\n                showNotification('请先登录');\r\n            } else if (response.data.status === 200) {\r\n                setCollectionList(response.data.data);\r\n            } else {\r\n                props.history.push('/error');\r\n            }\r\n        });\r\n        // eslint-disable-next-line\r\n    }, [props]);\r\n\r\n    const deleteCollectionList = (collectionList) => {\r\n        confirm({\r\n            title: '确认删除',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '确认',\r\n            cancelText: '取消',\r\n            onOk() {\r\n                axios({\r\n                    method: 'DELETE',\r\n                    url: SERVER_URL + 'collection_list/' + collectionList.collectionListId,\r\n                    headers: {\r\n                        Authorization: getToken()\r\n                    }\r\n                }).then((response) => {\r\n                    if (response.data.status === 401) {\r\n                        PubSub.publish('logout');\r\n                        props.history.push('/');\r\n                        showNotification('请先登录');\r\n                    } else if (response.data.status === 200) {\r\n                        PubSub.publish('getCollectionList');\r\n                        props.history.replace('/my_music');\r\n                    } else {\r\n                        props.history.replace('/error');\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    const playCollectionList = (collectionList) => {\r\n        console.log(collectionList);\r\n        if (collectionList.musicVOList.length > 0) {\r\n            addPlayList(collectionList.musicVOList);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{display: 'flex', height: '200px', backgroundColor: 'white', padding: '0 10px'}}>\r\n                <Image alt={collectionList.collectionListName} src={collectionList.collectionListImg} width=\"200px\"/>\r\n                <div style={{padding: '0 10px'}}>\r\n                    <Card title={collectionList.collectionListName} style={{width: '100%', height: '120px'}} bordered={false}>\r\n                        {collectionList.createDate} 创建\r\n                    </Card>\r\n                    <div style={{padding: '40px 20px'}}>\r\n                        <Button icon={<PlayCircleOutlined />} type=\"primary\" onClick={() => playCollectionList(collectionList)} style={{marginRight: '20px'}}>播放全部</Button>\r\n                        <Button icon={<DeleteOutlined />} type=\"danger\" onClick={() =>deleteCollectionList(collectionList)}>删除歌单</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Table columns={collectionListColomns} dataSource={collectionList.musicVOList} rowKey={record => record.musicId} />\r\n        </>\r\n    );\r\n}"]}}