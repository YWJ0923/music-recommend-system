{"code":"(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[16],{328:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return y}));var i=n(34),a=n(0),c=n(288),r=n(284),s=n(50),l=n(338),d=n(59),o=n(38),u=n.n(o),h=n(93),p=n(44),j=n(4),b=c.a.Content,x=c.a.Sider,m=(r.a.SubMenu,[{key:\"index\",render:function(t,e,n){return n+1},width:\"50px\"},{dataIndex:\"musicName\",key:\"musicName\",title:\"\\u6b4c\\u66f2\",ellipsis:!0,render:function(t,e,n){return Object(j.jsxs)(s.a,{type:\"link\",onClick:function(){h.a.addMusic(e)},style:{padding:\"0\"},children:[Object(j.jsx)(\"img\",{alt:t,src:e.albumImg,style:{height:\"50px\",width:\"50px\",marginRight:\"10px\"}}),t]})},width:\"300px\"},{dataIndex:\"artistName\",key:\"artistName\",title:\"\\u6b4c\\u624b\",ellipsis:!0,render:function(t,e,n){return Object(j.jsx)(d.b,{to:\"/artist/\".concat(e.artistId),children:t})},width:\"150px\"},{dataIndex:\"albumName\",key:\"albumName\",title:\"\\u4e13\\u8f91\",ellipsis:!0,render:function(t,e,n){return Object(j.jsx)(d.b,{to:\"/album/\".concat(e.albumId),children:t})},width:\"150px\"},{dataIndex:\"timeLength\",key:\"timeLength\",title:\"\\u65f6\\u957f\",render:function(t){t=parseInt(t),t/=1e3;var e=Math.floor(t/60);e<10&&(e=\"0\"+e);var n=Math.floor(t%60);return n<10&&(n=\"0\"+n),Object(j.jsx)(\"span\",{children:e+\":\"+n})},width:\"100px\"}]);function y(t){var e=Object(a.useState)([]),n=Object(i.a)(e,2),s=n[0],d=n[1],o=Object(a.useState)(\"type=total\"),h=Object(i.a)(o,2),y=h[0],f=h[1],O=Object(a.useState)(\"\\u603b\\u699c\"),g=Object(i.a)(O,2),I=g[0],k=g[1],w=[\"\\u534e\\u8bed\\u699c\",\"\\u6b27\\u7f8e\\u699c\",\"\\u65e5\\u97e9\\u699c\"];Object(a.useEffect)((function(){var e=new URLSearchParams(t.location.search).get(\"type\");u()({method:\"GET\",url:p.a+\"topList\",params:{type:e}}).then((function(n){200===n.data.status?(d(n.data.data),f(\"type=\".concat(e)),k(\"total\"===e?\"\\u603b\\u699c\":w[parseInt(e)])):t.history.push(\"/error\")}))}),[t]);return Object(j.jsxs)(c.a,{children:[Object(j.jsx)(x,{style:{width:250},children:Object(j.jsxs)(r.a,{mode:\"inline\",defaultSelectedKeys:\"type=total\",style:{height:\"100%\"},onClick:function(e){t.history.push(\"/top_list?\".concat(e.key))},defaultOpenKeys:[\"0\",\"1\",\"2\"],selectedKeys:y,children:[Object(j.jsx)(r.a.Item,{children:\"\\u603b\\u699c\"},\"type=total\"),Object(j.jsx)(r.a.Item,{children:\"\\u534e\\u8bed\\u699c\"},\"type=0\"),Object(j.jsx)(r.a.Item,{children:\"\\u6b27\\u7f8e\\u699c\"},\"type=1\"),Object(j.jsx)(r.a.Item,{children:\"\\u65e5\\u97e9\\u699c\"},\"type=2\")]})}),Object(j.jsx)(b,{style:{minHeight:280},children:Object(j.jsx)(l.a,{dataSource:s,columns:m,rowKey:function(t){return t.musicId},pagination:!1,title:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"div\",{style:{fontWeight:\"bold\",fontSize:\"25px\",display:\"inline\",marginRight:\"20px\"},children:I}),Object(j.jsx)(\"div\",{style:{fontSize:\"15px\",display:\"inline\"},children:\"\\u6bcf\\u65e5\\u66f4\\u65b0\"})]})}})})]})}}}]);","name":"static/js/16.44f500e3.chunk.js","map":{"version":3,"sources":["static/js/16.44f500e3.chunk.js"],"names":["this","push","328","module","__webpack_exports__","__webpack_require__","r","d","TopList","D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","antd__WEBPACK_IMPORTED_MODULE_2__","antd__WEBPACK_IMPORTED_MODULE_3__","antd__WEBPACK_IMPORTED_MODULE_4__","antd__WEBPACK_IMPORTED_MODULE_5__","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","axios__WEBPACK_IMPORTED_MODULE_7__","axios__WEBPACK_IMPORTED_MODULE_7___default","n","_stores_playBarStore__WEBPACK_IMPORTED_MODULE_8__","_utils_constant__WEBPACK_IMPORTED_MODULE_9__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","Content","Sider","colomns","SubMenu","key","render","text","record","index","width","dataIndex","title","ellipsis","Object","type","onClick","addMusic","style","padding","children","alt","src","albumImg","height","marginRight","to","concat","artistId","albumId","parseInt","min","Math","floor","sec","props","_useState","_useState2","data","setData","_useState3","_useState4","selectedKeys","setSelectedKeys","_useState5","_useState6","setTitle","titleArr","URLSearchParams","location","search","get","method","url","params","then","response","status","history","mode","defaultSelectedKeys","obj","defaultOpenKeys","Item","minHeight","dataSource","columns","rowKey","musicId","pagination","fontWeight","fontSize","display"],"mappings":"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"},"input":"(this[\"webpackJsonpfront\"] = this[\"webpackJsonpfront\"] || []).push([[16],{\n\n/***/ 328:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TopList; });\n/* harmony import */ var D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(288);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(284);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(50);\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(338);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(59);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(38);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _stores_playBarStore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(93);\n/* harmony import */ var _utils_constant__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(44);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar Content=antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].Content,Sider=antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].Sider;var SubMenu=antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].SubMenu;var colomns=[{key:'index',render:function render(text,record,index){return index+1;},width:'50px'},{dataIndex:'musicName',key:'musicName',title:'歌曲',ellipsis:true,render:function render(text,record,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(antd__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{type:\"link\",onClick:function onClick(){_stores_playBarStore__WEBPACK_IMPORTED_MODULE_8__[/* playBarStore */ \"a\"].addMusic(record);},style:{padding:'0'},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"img\",{alt:text,src:record.albumImg,style:{height:'50px',width:'50px',marginRight:'10px'}}),text]});},width:'300px'},{dataIndex:'artistName',key:'artistName',title:'歌手',ellipsis:true,render:function render(text,record,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_6__[/* Link */ \"b\"],{to:\"/artist/\".concat(record.artistId),children:text});},width:'150px'},{dataIndex:'albumName',key:'albumName',title:'专辑',ellipsis:true,render:function render(text,record,index){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_6__[/* Link */ \"b\"],{to:\"/album/\".concat(record.albumId),children:text});},width:'150px'},{dataIndex:'timeLength',key:'timeLength',title:'时长',render:function render(text){text=parseInt(text);text/=1000;var min=Math.floor(text/60);if(min<10){min='0'+min;}var sec=Math.floor(text%60);if(sec<10){sec='0'+sec;}return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"span\",{children:min+':'+sec});},width:'100px'}];function TopList(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])([]),_useState2=Object(D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])('type=total'),_useState4=Object(D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState3,2),selectedKeys=_useState4[0],setSelectedKeys=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])('总榜'),_useState6=Object(D_Programming_Project_Music_Recommend_System_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var titleArr=['华语榜','欧美榜','日韩榜'];Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){var params=new URLSearchParams(props.location.search);var type=params.get('type');axios__WEBPACK_IMPORTED_MODULE_7___default()({method:'GET',url:_utils_constant__WEBPACK_IMPORTED_MODULE_9__[/* SERVER_URL */ \"a\"]+'topList',params:{type:type}}).then(function(response){if(response.data.status===200){setData(response.data.data);setSelectedKeys(\"type=\".concat(type));setTitle(type==='total'?'总榜':titleArr[parseInt(type)]);}else{props.history.push('/error');}});// eslint-disable-next-line\n},[props]);var handleClick=function handleClick(obj){props.history.push(\"/top_list?\".concat(obj.key));};var tableTitle=function tableTitle(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{style:{fontWeight:'bold',fontSize:'25px',display:'inline',marginRight:'20px'},children:title}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{style:{fontSize:'15px',display:'inline'},children:\"\\u6BCF\\u65E5\\u66F4\\u65B0\"})]});};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(antd__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(Sider,{style:{width:250},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"],{mode:\"inline\",defaultSelectedKeys:\"type=total\",style:{height:'100%'},onClick:handleClick,defaultOpenKeys:['0','1','2'],selectedKeys:selectedKeys,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Item,{children:\"\\u603B\\u699C\"},\"type=total\"),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Item,{children:\"\\u534E\\u8BED\\u699C\"},\"type=0\"),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Item,{children:\"\\u6B27\\u7F8E\\u699C\"},\"type=1\"),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].Item,{children:\"\\u65E5\\u97E9\\u699C\"},\"type=2\")]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(Content,{style:{minHeight:280},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(antd__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{dataSource:data,columns:colomns,rowKey:function rowKey(record){return record.musicId;},pagination:false,title:tableTitle})})]});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:/Programming/Project/Music_Recommend_System/client/src/pages/TopList/index.jsx"],"names":["Content","Layout","Sider","SubMenu","Menu","colomns","key","render","text","record","index","width","dataIndex","title","ellipsis","playBarStore","addMusic","padding","albumImg","height","marginRight","artistId","albumId","parseInt","min","Math","floor","sec","TopList","props","useState","data","setData","selectedKeys","setSelectedKeys","setTitle","titleArr","useEffect","params","URLSearchParams","location","search","type","get","axios","method","url","SERVER_URL","then","response","status","history","push","handleClick","obj","tableTitle","fontWeight","fontSize","display","minHeight","musicId"],"mappings":"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","file":"x","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport {Button, Layout, Menu, Table} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\nimport {SERVER_URL} from \"../../utils/constant\";\r\n\r\nconst { Content, Sider } = Layout;\r\nconst {SubMenu} = Menu;\r\n\r\nconst colomns = [\r\n    {\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n            return index + 1;\r\n        },\r\n        width: '50px'\r\n    },\r\n    {\r\n        dataIndex: 'musicName',\r\n        key: 'musicName',\r\n        title: '歌曲',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Button type=\"link\" onClick={() => {\r\n                playBarStore.addMusic(record);\r\n            }} style={{padding: '0'}}>\r\n                <img alt={text} src={record.albumImg} style={{height: '50px', width: '50px', marginRight: '10px'}} />\r\n                {text}\r\n            </Button>);\r\n        },\r\n        width: '300px'\r\n    },\r\n    {\r\n        dataIndex: 'artistName',\r\n        key: 'artistName',\r\n        title: '歌手',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/artist/${record.artistId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'albumName',\r\n        key: 'albumName',\r\n        title: '专辑',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/album/${record.albumId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'timeLength',\r\n        key: 'timeLength',\r\n        title: '时长',\r\n        render: (text) => {\r\n            text = parseInt(text);\r\n            text /= 1000;\r\n            var min = Math.floor(text / 60);\r\n            if (min < 10) {\r\n                min = '0' + min;\r\n            }\r\n            var sec = Math.floor(text % 60);\r\n            if (sec < 10) {\r\n                sec = '0' + sec;\r\n            }\r\n            return (<span>{min + ':' + sec}</span>);\r\n        },\r\n        width: '100px'\r\n    }\r\n]\r\n\r\nexport default function TopList(props) {\r\n    const [data, setData] = useState([]);\r\n    const [selectedKeys, setSelectedKeys] = useState('type=total');\r\n    const [title, setTitle] = useState('总榜');\r\n\r\n    const titleArr = ['华语榜', '欧美榜', '日韩榜'];\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(props.location.search);\r\n        const type = params.get('type');\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'topList',\r\n            params: {\r\n                type: type\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status === 200) {\r\n                setData(response.data.data);\r\n                setSelectedKeys(`type=${type}`);\r\n                setTitle(type === 'total' ? '总榜' : titleArr[parseInt(type)]);\r\n            } else {\r\n                props.history.push('/error');\r\n            }\r\n        });  // eslint-disable-next-line\r\n    }, [props]);\r\n\r\n    const handleClick = (obj) => {\r\n        props.history.push(`/top_list?${obj.key}`);\r\n    }\r\n\r\n    const tableTitle = () => {\r\n        return (\r\n            <>\r\n                <div style={{fontWeight: 'bold', fontSize: '25px', display: 'inline', marginRight: '20px'}}>{title}</div>\r\n                <div style={{fontSize: '15px', display: 'inline'}}>每日更新</div>\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Sider style={{width: 250}}>\r\n                <Menu mode=\"inline\" defaultSelectedKeys=\"type=total\" style={{height: '100%'}} onClick={handleClick} defaultOpenKeys={['0', '1', '2']} selectedKeys={selectedKeys}>\r\n                    <Menu.Item key=\"type=total\">总榜</Menu.Item>\r\n                    <Menu.Item key=\"type=0\">华语榜</Menu.Item>\r\n                    <Menu.Item key=\"type=1\">欧美榜</Menu.Item>\r\n                    <Menu.Item key=\"type=2\">日韩榜</Menu.Item>\r\n                </Menu>\r\n            </Sider>\r\n            <Content style={{ minHeight: 280}}>\r\n                <Table dataSource={data} columns={colomns} rowKey={record => record.musicId} pagination={false} title={tableTitle} />\r\n            </Content>\r\n        </Layout>\r\n    );\r\n}"]}}