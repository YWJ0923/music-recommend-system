[{"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\index.js":"1","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\App.js":"2","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\auth.js":"3","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\router\\index.js":"4","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\components\\PlayBar\\index.jsx":"5","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\components\\MyHeader\\index.jsx":"6","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\constant.js":"7","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Album\\index.jsx":"8","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Artist\\index.jsx":"9","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\ArtistList\\index.jsx":"10","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Search\\index.jsx":"11","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\index.jsx":"12","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\Ranking\\index.jsx":"13","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\CollectionList\\index.jsx":"14","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\play.js":"15","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\stores\\index.js":"16","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\stores\\playBarStore.js":"17","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\stores\\userStore.js":"18","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\common.js":"19","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Error\\index.jsx":"20","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\TopList\\index.jsx":"21","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Discover\\index.jsx":"22","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\Recommend\\index.jsx":"23"},{"size":239,"mtime":1640938514632,"results":"24","hashOfConfig":"25"},{"size":2443,"mtime":1641042293781,"results":"26","hashOfConfig":"25"},{"size":260,"mtime":1638443874319,"results":"27","hashOfConfig":"25"},{"size":1743,"mtime":1642511830836,"results":"28","hashOfConfig":"25"},{"size":16185,"mtime":1642416984746,"results":"29","hashOfConfig":"25"},{"size":9624,"mtime":1642500749719,"results":"30","hashOfConfig":"25"},{"size":57,"mtime":1638794671366,"results":"31","hashOfConfig":"25"},{"size":2748,"mtime":1640938240571,"results":"32","hashOfConfig":"25"},{"size":5154,"mtime":1641046652723,"results":"33","hashOfConfig":"25"},{"size":4337,"mtime":1641045824668,"results":"34","hashOfConfig":"25"},{"size":4974,"mtime":1641008319012,"results":"35","hashOfConfig":"25"},{"size":3934,"mtime":1642511831881,"results":"36","hashOfConfig":"25"},{"size":2700,"mtime":1641046367421,"results":"37","hashOfConfig":"25"},{"size":5640,"mtime":1641043020822,"results":"38","hashOfConfig":"25"},{"size":633,"mtime":1641039999129,"results":"39","hashOfConfig":"25"},{"size":237,"mtime":1640337112180,"results":"40","hashOfConfig":"25"},{"size":1918,"mtime":1641041875980,"results":"41","hashOfConfig":"25"},{"size":345,"mtime":1640938214395,"results":"42","hashOfConfig":"25"},{"size":201,"mtime":1640936103684,"results":"43","hashOfConfig":"25"},{"size":324,"mtime":1640936344583,"results":"44","hashOfConfig":"25"},{"size":4324,"mtime":1641047221768,"results":"45","hashOfConfig":"25"},{"size":4103,"mtime":1642503913790,"results":"46","hashOfConfig":"25"},{"size":137,"mtime":1642511831892,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"1g8mnjf",{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"50"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"50"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\index.js",[],["100","101"],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\App.js",["102"],"import React, {Suspense, useState, useEffect } from 'react';\nimport { Layout, Skeleton } from 'antd';\nimport {withRouter} from 'react-router-dom';\nimport { renderRoutes } from 'react-router-config';\nimport routes from './router';\nimport axios from 'axios';\nimport PlayBar from './components/PlayBar';\nimport MyHeader from './components/MyHeader';\nimport { getToken, removeToken } from './utils/auth';\nimport 'antd/dist/antd.min.css';\nimport './App.css';\nimport PubSub from \"pubsub-js\";\n\n\nconst { Content, Footer } = Layout;\n\nfunction App(props) {\n    const [user, setUser] = useState(undefined);\n\n    // PubSub订阅和取消\n    useEffect(() => {\n        PubSub.subscribe('logout', logout);\n        PubSub.subscribe('login', login);\n        return () => {\n            PubSub.unsubscribe('login');\n            PubSub.unsubscribe('logout');\n        }  // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        const token = getToken();\n        if (token) {\n            axios({\n                method: 'GET',\n                url: 'http://localhost:3001/server/verify',\n                headers: {\n                    Authorization: token\n                }\n            }).then((response) => {\n                if (response.data.status === 200) {\n                    localStorage.setItem('token', response.data.token);\n                    setUser(response.data.data);\n                } else if (response.data.status === 401) {\n                    removeToken();\n                } else {\n                    props.history.push('/error');\n                }\n            });\n        }\n    }, []);\n\n    const logout = () => {\n        removeToken();\n        setUser(undefined);\n    }\n\n    const login = (message, user) => {\n        setUser(user);\n    }\n\n    return (\n        <>\n            <Layout className=\"layout\" style={{minHeight: '100vh'}}>\n                <MyHeader user={user} />\n                <Content style={{ width: '1000px', margin: '0 auto'}}>\n                    <div className=\"site-layout-content\">\n                        <Suspense fallback={<Skeleton />}>\n                            {renderRoutes(routes)}\n                        </Suspense>\n                    </div>\n                </Content>\n                <Footer style={{ textAlign: 'center', height: '150px' }}>718音乐 ©2021 Created by YWJ</Footer>\n            </Layout>\n            <PlayBar user={user} />\n        </>\n    );\n}\n\nexport default withRouter(App);","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\auth.js",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\router\\index.js",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\components\\PlayBar\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\components\\MyHeader\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\constant.js",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Album\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Artist\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\ArtistList\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Search\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\Ranking\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\CollectionList\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\play.js",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\stores\\index.js",[],["103","104"],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\stores\\playBarStore.js",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\stores\\userStore.js",[],["105","106"],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\utils\\common.js",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Error\\index.jsx",[],"D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\TopList\\index.jsx",["107","108"],"import React, {useEffect, useRef, useState} from 'react';\r\nimport {Button, Layout, Menu, Table} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\nimport {SERVER_URL} from \"../../utils/constant\";\r\n\r\nconst { Content, Sider } = Layout;\r\nconst {SubMenu} = Menu;\r\n\r\nconst colomns = [\r\n    {\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n            return index + 1;\r\n        },\r\n        width: '50px'\r\n    },\r\n    {\r\n        dataIndex: 'musicName',\r\n        key: 'musicName',\r\n        title: '歌曲',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Button type=\"link\" onClick={() => {\r\n                playBarStore.addMusic(record);\r\n            }} style={{padding: '0'}}>\r\n                <img alt={text} src={record.albumImg} style={{height: '50px', width: '50px', marginRight: '10px'}} />\r\n                {text}\r\n            </Button>);\r\n        },\r\n        width: '300px'\r\n    },\r\n    {\r\n        dataIndex: 'artistName',\r\n        key: 'artistName',\r\n        title: '歌手',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/artist/${record.artistId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'albumName',\r\n        key: 'albumName',\r\n        title: '专辑',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/album/${record.albumId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'timeLength',\r\n        key: 'timeLength',\r\n        title: '时长',\r\n        render: (text) => {\r\n            text = parseInt(text);\r\n            text /= 1000;\r\n            var min = Math.floor(text / 60);\r\n            if (min < 10) {\r\n                min = '0' + min;\r\n            }\r\n            var sec = Math.floor(text % 60);\r\n            if (sec < 10) {\r\n                sec = '0' + sec;\r\n            }\r\n            return (<span>{min + ':' + sec}</span>);\r\n        },\r\n        width: '100px'\r\n    }\r\n]\r\n\r\nexport default function TopList(props) {\r\n    const [data, setData] = useState([]);\r\n    const [selectedKeys, setSelectedKeys] = useState('type=total');\r\n    const [title, setTitle] = useState('总榜');\r\n\r\n    const titleArr = ['华语榜', '欧美榜', '日韩榜'];\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(props.location.search);\r\n        const type = params.get('type');\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'topList',\r\n            params: {\r\n                type: type\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status === 200) {\r\n                setData(response.data.data);\r\n                setSelectedKeys(`type=${type}`);\r\n                setTitle(type === 'total' ? '总榜' : titleArr[parseInt(type)]);\r\n            } else {\r\n                props.history.push('/error');\r\n            }\r\n        });  // eslint-disable-next-line\r\n    }, [props]);\r\n\r\n    const handleClick = (obj) => {\r\n        props.history.push(`/top_list?${obj.key}`);\r\n    }\r\n\r\n    const tableTitle = () => {\r\n        return (\r\n            <>\r\n                <div style={{fontWeight: 'bold', fontSize: '25px', display: 'inline', marginRight: '20px'}}>{title}</div>\r\n                <div style={{fontSize: '15px', display: 'inline'}}>每日更新</div>\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Sider style={{width: 250}}>\r\n                <Menu mode=\"inline\" defaultSelectedKeys=\"type=total\" style={{height: '100%'}} onClick={handleClick} defaultOpenKeys={['0', '1', '2']} selectedKeys={selectedKeys}>\r\n                    <Menu.Item key=\"type=total\">总榜</Menu.Item>\r\n                    <Menu.Item key=\"type=0\">华语榜</Menu.Item>\r\n                    <Menu.Item key=\"type=1\">欧美榜</Menu.Item>\r\n                    <Menu.Item key=\"type=2\">日韩榜</Menu.Item>\r\n                </Menu>\r\n            </Sider>\r\n            <Content style={{ minHeight: 280}}>\r\n                <Table dataSource={data} columns={colomns} rowKey={record => record.musicId} pagination={false} title={tableTitle} />\r\n            </Content>\r\n        </Layout>\r\n    );\r\n}","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\Discover\\index.jsx",["109","110","111","112","113","114"],"import React, {useEffect, useRef, useState} from 'react';\r\nimport {Button, Card, Carousel, Col, Image, Row} from \"antd\";\r\nimport {LeftOutlined, RightOutlined} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport {SERVER_URL} from \"../../utils/constant\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function Discover() {\r\n    const [musicList, setMusicList] = useState([]);\r\n    const [albumList, setAlbumList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'latestMusics'\r\n        }).then((response) => {\r\n            setMusicList(response.data.data);\r\n        });\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'latestAlbums'\r\n        }).then((response) => {\r\n            setAlbumList(response.data.data);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <div style={{textAlign: 'center', margin: '0 0 20px 0', fontSize: '30px', fontWeight: 'bold'}}>新歌首发</div>\r\n                <Row gutter={[0, 5]}>\r\n                        {musicList.map((music) => {\r\n                            return (<Col>\r\n                                <div style={{height: '70px', display: 'flex', width: '315px'}}>\r\n                                    <Link to={`/album/${music.albumId}`}>\r\n                                        <img alt={music.albumName} src={music.albumImg} style={{width: '70px', height: '70px', marginRight: '10px'}} />\r\n                                    </Link>\r\n                                    <div style={{height: '70px'}}>\r\n                                        <Button type=\"link\" onClick={() => {playBarStore.addMusic(music);}} style={{padding: '0px'}}>\r\n                                            <div style={{height: '35px', lineHeight: '15px', fontSize: '15px'}}>{music.musicName}</div>\r\n                                        </Button>\r\n                                        <Link to={`/artist/${music.artistId}`}>\r\n                                            <div style={{height: '35px', lineHeight: '21px', fontSize: '13px', color: '#999'}}>{music.artistName}</div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Col>);\r\n                        })}\r\n                </Row>\r\n            </div>\r\n            <div>\r\n                <div style={{textAlign: 'center', margin: '20px 0', fontSize: '30px', fontWeight: 'bold'}}>新碟首发</div>\r\n                <Row gutter={[10, 5]}>\r\n                    {albumList.map((album) => {\r\n                        return (<Col span={4.8}>\r\n                            <div style={{height: '250px', width: '180px'}}>\r\n                                <Link to={`/album/${album.albumId}`}>\r\n                                    <img alt={album.albumName} src={album.albumImg} style={{width: '180px', height: '180px', marginRight: '10px'}} />\r\n                                </Link>\r\n                                <div style={{height: '60px'}}>\r\n                                    <Link to={`/album/${album.albumId}`}>\r\n                                        <Button type=\"text\" style={{padding: '0'}}>\r\n                                            <div style={{height: '30px', lineHeight: '15px', fontSize: '15px', marginTop: '5px', overflow: 'hidden'}}>{album.albumName}</div>\r\n                                        </Button>\r\n                                    </Link>\r\n                                    <Link to={`/artist/${album.artistId}`}>\r\n                                        <div style={{height: '30px', lineHeight: '21px', fontSize: '13px', color: '#999', overflow: 'hidden'}}>{album.artistName}</div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </Col>);\r\n                    })}\r\n                </Row>\r\n            </div>\r\n        </>\r\n    );\r\n}","D:\\Programming\\React\\Music_Recommend_System\\front\\src\\pages\\MyMusic\\Recommend\\index.jsx",[],{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","severity":1,"message":"120","line":50,"column":8,"nodeType":"121","endLine":50,"endColumn":10,"suggestions":"122"},{"ruleId":"115","replacedBy":"123"},{"ruleId":"117","replacedBy":"124"},{"ruleId":"115","replacedBy":"125"},{"ruleId":"117","replacedBy":"126"},{"ruleId":"127","severity":1,"message":"128","line":1,"column":27,"nodeType":"129","messageId":"130","endLine":1,"endColumn":33},{"ruleId":"127","severity":1,"message":"131","line":9,"column":8,"nodeType":"129","messageId":"130","endLine":9,"endColumn":15},{"ruleId":"127","severity":1,"message":"128","line":1,"column":27,"nodeType":"129","messageId":"130","endLine":1,"endColumn":33},{"ruleId":"127","severity":1,"message":"132","line":2,"column":23,"nodeType":"129","messageId":"130","endLine":2,"endColumn":31},{"ruleId":"127","severity":1,"message":"133","line":2,"column":38,"nodeType":"129","messageId":"130","endLine":2,"endColumn":43},{"ruleId":"127","severity":1,"message":"134","line":3,"column":9,"nodeType":"129","messageId":"130","endLine":3,"endColumn":21},{"ruleId":"127","severity":1,"message":"135","line":3,"column":23,"nodeType":"129","messageId":"130","endLine":3,"endColumn":36},{"ruleId":"127","severity":1,"message":"136","line":9,"column":9,"nodeType":"129","messageId":"130","endLine":9,"endColumn":13},"no-native-reassign",["137"],"no-negated-in-lhs",["138"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.","ArrayExpression",["139"],["137"],["138"],["137"],["138"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'SubMenu' is assigned a value but never used.","'Carousel' is defined but never used.","'Image' is defined but never used.","'LeftOutlined' is defined but never used.","'RightOutlined' is defined but never used.","'Meta' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"140","fix":"141"},"Update the dependencies array to be: [props.history]",{"range":"142","text":"143"},[1585,1587],"[props.history]"]