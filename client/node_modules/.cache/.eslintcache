[{"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\index.js":"1","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\App.js":"2","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\auth.js":"3","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\router\\index.js":"4","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\components\\MyHeader\\index.jsx":"5","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\components\\PlayBar\\index.jsx":"6","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\common.js":"7","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\play.js":"8","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\constant.js":"9","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\stores\\playBarStore.js":"10","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Error\\index.jsx":"11","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\Ranking\\index.jsx":"12","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\TopList\\index.jsx":"13","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\index.jsx":"14","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\CollectionList\\index.jsx":"15","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Artist\\index.jsx":"16","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Album\\index.jsx":"17","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\Recommend\\index.jsx":"18","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Discover\\index.jsx":"19","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\ArtistList\\index.jsx":"20","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Search\\index.jsx":"21"},{"size":239,"mtime":1640938514632,"results":"22","hashOfConfig":"23"},{"size":2472,"mtime":1646981976169,"results":"24","hashOfConfig":"23"},{"size":260,"mtime":1638443874319,"results":"25","hashOfConfig":"23"},{"size":1743,"mtime":1642511830836,"results":"26","hashOfConfig":"23"},{"size":11722,"mtime":1646981976175,"results":"27","hashOfConfig":"23"},{"size":16248,"mtime":1644640334231,"results":"28","hashOfConfig":"23"},{"size":201,"mtime":1640936103684,"results":"29","hashOfConfig":"23"},{"size":1294,"mtime":1646986086691,"results":"30","hashOfConfig":"23"},{"size":75,"mtime":1646986086695,"results":"31","hashOfConfig":"23"},{"size":1992,"mtime":1644639880823,"results":"32","hashOfConfig":"23"},{"size":324,"mtime":1640936344583,"results":"33","hashOfConfig":"23"},{"size":2700,"mtime":1641046367421,"results":"34","hashOfConfig":"23"},{"size":4324,"mtime":1641047221768,"results":"35","hashOfConfig":"23"},{"size":3934,"mtime":1642511831881,"results":"36","hashOfConfig":"23"},{"size":5640,"mtime":1641043020822,"results":"37","hashOfConfig":"23"},{"size":5154,"mtime":1641046652723,"results":"38","hashOfConfig":"23"},{"size":2748,"mtime":1640938240571,"results":"39","hashOfConfig":"23"},{"size":2475,"mtime":1651812531996,"results":"40","hashOfConfig":"23"},{"size":4103,"mtime":1642503913790,"results":"41","hashOfConfig":"23"},{"size":4337,"mtime":1641045824668,"results":"42","hashOfConfig":"23"},{"size":4974,"mtime":1641008319012,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1r6x65n",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\index.js",[],["90","91"],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\App.js",["92"],"import React, {Suspense, useState, useEffect } from 'react';\nimport { Layout, Skeleton } from 'antd';\nimport {withRouter} from 'react-router-dom';\nimport { renderRoutes } from 'react-router-config';\nimport routes from './router';\nimport axios from 'axios';\nimport PlayBar from './components/PlayBar';\nimport MyHeader from './components/MyHeader';\nimport { getToken, removeToken } from './utils/auth';\nimport 'antd/dist/antd.min.css';\nimport './App.css';\nimport PubSub from \"pubsub-js\";\nimport {SERVER_URL} from \"./utils/constant\";\n\n\nconst { Content, Footer } = Layout;\n\nfunction App(props) {\n    const [user, setUser] = useState(undefined);\n\n    // PubSub订阅和取消\n    useEffect(() => {\n        PubSub.subscribe('logout', logout);\n        PubSub.subscribe('login', login);\n        return () => {\n            PubSub.unsubscribe('login');\n            PubSub.unsubscribe('logout');\n        }  // eslint-disable-next-line\n    }, []);\n\n    useEffect(() => {\n        const token = getToken();\n        if (token) {\n            axios({\n                method: 'GET',\n                url: SERVER_URL + 'verify',\n                headers: {\n                    Authorization: token\n                }\n            }).then((response) => {\n                if (response.data.status === 200) {\n                    localStorage.setItem('token', response.data.token);\n                    setUser(response.data.data);\n                } else if (response.data.status === 401) {\n                    removeToken();\n                } else {\n                    props.history.push('/error');\n                }\n            });\n        }\n    }, []);\n\n    const logout = () => {\n        removeToken();\n        setUser(undefined);\n    }\n\n    const login = (message, user) => {\n        setUser(user);\n    }\n\n    return (\n        <>\n            <Layout className=\"layout\" style={{minHeight: '100vh'}}>\n                <MyHeader user={user} />\n                <Content style={{ width: '1000px', margin: '0 auto'}}>\n                    <div className=\"site-layout-content\">\n                        <Suspense fallback={<Skeleton />}>\n                            {renderRoutes(routes)}\n                        </Suspense>\n                    </div>\n                </Content>\n                <Footer style={{ textAlign: 'center', height: '150px' }}>718音乐 ©2021 Created by YWJ</Footer>\n            </Layout>\n            <PlayBar user={user} />\n        </>\n    );\n}\n\nexport default withRouter(App);","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\auth.js",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\router\\index.js",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\components\\MyHeader\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\components\\PlayBar\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\common.js",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\play.js",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\utils\\constant.js",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\stores\\playBarStore.js",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Error\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\Ranking\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\TopList\\index.jsx",["93","94"],"import React, {useEffect, useRef, useState} from 'react';\r\nimport {Button, Layout, Menu, Table} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\nimport {SERVER_URL} from \"../../utils/constant\";\r\n\r\nconst { Content, Sider } = Layout;\r\nconst {SubMenu} = Menu;\r\n\r\nconst colomns = [\r\n    {\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n            return index + 1;\r\n        },\r\n        width: '50px'\r\n    },\r\n    {\r\n        dataIndex: 'musicName',\r\n        key: 'musicName',\r\n        title: '歌曲',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Button type=\"link\" onClick={() => {\r\n                playBarStore.addMusic(record);\r\n            }} style={{padding: '0'}}>\r\n                <img alt={text} src={record.albumImg} style={{height: '50px', width: '50px', marginRight: '10px'}} />\r\n                {text}\r\n            </Button>);\r\n        },\r\n        width: '300px'\r\n    },\r\n    {\r\n        dataIndex: 'artistName',\r\n        key: 'artistName',\r\n        title: '歌手',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/artist/${record.artistId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'albumName',\r\n        key: 'albumName',\r\n        title: '专辑',\r\n        ellipsis: true,\r\n        render: (text, record, index) => {\r\n            return (<Link to={`/album/${record.albumId}`}>{text}</Link>);\r\n        },\r\n        width: '150px'\r\n    },\r\n    {\r\n        dataIndex: 'timeLength',\r\n        key: 'timeLength',\r\n        title: '时长',\r\n        render: (text) => {\r\n            text = parseInt(text);\r\n            text /= 1000;\r\n            var min = Math.floor(text / 60);\r\n            if (min < 10) {\r\n                min = '0' + min;\r\n            }\r\n            var sec = Math.floor(text % 60);\r\n            if (sec < 10) {\r\n                sec = '0' + sec;\r\n            }\r\n            return (<span>{min + ':' + sec}</span>);\r\n        },\r\n        width: '100px'\r\n    }\r\n]\r\n\r\nexport default function TopList(props) {\r\n    const [data, setData] = useState([]);\r\n    const [selectedKeys, setSelectedKeys] = useState('type=total');\r\n    const [title, setTitle] = useState('总榜');\r\n\r\n    const titleArr = ['华语榜', '欧美榜', '日韩榜'];\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(props.location.search);\r\n        const type = params.get('type');\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'topList',\r\n            params: {\r\n                type: type\r\n            }\r\n        }).then((response) => {\r\n            if (response.data.status === 200) {\r\n                setData(response.data.data);\r\n                setSelectedKeys(`type=${type}`);\r\n                setTitle(type === 'total' ? '总榜' : titleArr[parseInt(type)]);\r\n            } else {\r\n                props.history.push('/error');\r\n            }\r\n        });  // eslint-disable-next-line\r\n    }, [props]);\r\n\r\n    const handleClick = (obj) => {\r\n        props.history.push(`/top_list?${obj.key}`);\r\n    }\r\n\r\n    const tableTitle = () => {\r\n        return (\r\n            <>\r\n                <div style={{fontWeight: 'bold', fontSize: '25px', display: 'inline', marginRight: '20px'}}>{title}</div>\r\n                <div style={{fontSize: '15px', display: 'inline'}}>每日更新</div>\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Layout>\r\n            <Sider style={{width: 250}}>\r\n                <Menu mode=\"inline\" defaultSelectedKeys=\"type=total\" style={{height: '100%'}} onClick={handleClick} defaultOpenKeys={['0', '1', '2']} selectedKeys={selectedKeys}>\r\n                    <Menu.Item key=\"type=total\">总榜</Menu.Item>\r\n                    <Menu.Item key=\"type=0\">华语榜</Menu.Item>\r\n                    <Menu.Item key=\"type=1\">欧美榜</Menu.Item>\r\n                    <Menu.Item key=\"type=2\">日韩榜</Menu.Item>\r\n                </Menu>\r\n            </Sider>\r\n            <Content style={{ minHeight: 280}}>\r\n                <Table dataSource={data} columns={colomns} rowKey={record => record.musicId} pagination={false} title={tableTitle} />\r\n            </Content>\r\n        </Layout>\r\n    );\r\n}","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\CollectionList\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Artist\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Album\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\MyMusic\\Recommend\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Discover\\index.jsx",["95","96","97","98","99","100"],"import React, {useEffect, useRef, useState} from 'react';\r\nimport {Button, Card, Carousel, Col, Image, Row} from \"antd\";\r\nimport {LeftOutlined, RightOutlined} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport {SERVER_URL} from \"../../utils/constant\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {playBarStore} from \"../../stores/playBarStore\";\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function Discover() {\r\n    const [musicList, setMusicList] = useState([]);\r\n    const [albumList, setAlbumList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'latestMusics'\r\n        }).then((response) => {\r\n            setMusicList(response.data.data);\r\n        });\r\n        axios({\r\n            method: 'GET',\r\n            url: SERVER_URL + 'latestAlbums'\r\n        }).then((response) => {\r\n            setAlbumList(response.data.data);\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <div style={{textAlign: 'center', margin: '0 0 20px 0', fontSize: '30px', fontWeight: 'bold'}}>新歌首发</div>\r\n                <Row gutter={[0, 5]}>\r\n                        {musicList.map((music) => {\r\n                            return (<Col>\r\n                                <div style={{height: '70px', display: 'flex', width: '315px'}}>\r\n                                    <Link to={`/album/${music.albumId}`}>\r\n                                        <img alt={music.albumName} src={music.albumImg} style={{width: '70px', height: '70px', marginRight: '10px'}} />\r\n                                    </Link>\r\n                                    <div style={{height: '70px'}}>\r\n                                        <Button type=\"link\" onClick={() => {playBarStore.addMusic(music);}} style={{padding: '0px'}}>\r\n                                            <div style={{height: '35px', lineHeight: '15px', fontSize: '15px'}}>{music.musicName}</div>\r\n                                        </Button>\r\n                                        <Link to={`/artist/${music.artistId}`}>\r\n                                            <div style={{height: '35px', lineHeight: '21px', fontSize: '13px', color: '#999'}}>{music.artistName}</div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </Col>);\r\n                        })}\r\n                </Row>\r\n            </div>\r\n            <div>\r\n                <div style={{textAlign: 'center', margin: '20px 0', fontSize: '30px', fontWeight: 'bold'}}>新碟首发</div>\r\n                <Row gutter={[10, 5]}>\r\n                    {albumList.map((album) => {\r\n                        return (<Col span={4.8}>\r\n                            <div style={{height: '250px', width: '180px'}}>\r\n                                <Link to={`/album/${album.albumId}`}>\r\n                                    <img alt={album.albumName} src={album.albumImg} style={{width: '180px', height: '180px', marginRight: '10px'}} />\r\n                                </Link>\r\n                                <div style={{height: '60px'}}>\r\n                                    <Link to={`/album/${album.albumId}`}>\r\n                                        <Button type=\"text\" style={{padding: '0'}}>\r\n                                            <div style={{height: '30px', lineHeight: '15px', fontSize: '15px', marginTop: '5px', overflow: 'hidden'}}>{album.albumName}</div>\r\n                                        </Button>\r\n                                    </Link>\r\n                                    <Link to={`/artist/${album.artistId}`}>\r\n                                        <div style={{height: '30px', lineHeight: '21px', fontSize: '13px', color: '#999', overflow: 'hidden'}}>{album.artistName}</div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </Col>);\r\n                    })}\r\n                </Row>\r\n            </div>\r\n        </>\r\n    );\r\n}","D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\ArtistList\\index.jsx",[],"D:\\Programming\\Project\\Music_Recommend_System\\client\\src\\pages\\Search\\index.jsx",[],{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"106","line":51,"column":8,"nodeType":"107","endLine":51,"endColumn":10,"suggestions":"108"},{"ruleId":"109","severity":1,"message":"110","line":1,"column":27,"nodeType":"111","messageId":"112","endLine":1,"endColumn":33},{"ruleId":"109","severity":1,"message":"113","line":9,"column":8,"nodeType":"111","messageId":"112","endLine":9,"endColumn":15},{"ruleId":"109","severity":1,"message":"110","line":1,"column":27,"nodeType":"111","messageId":"112","endLine":1,"endColumn":33},{"ruleId":"109","severity":1,"message":"114","line":2,"column":23,"nodeType":"111","messageId":"112","endLine":2,"endColumn":31},{"ruleId":"109","severity":1,"message":"115","line":2,"column":38,"nodeType":"111","messageId":"112","endLine":2,"endColumn":43},{"ruleId":"109","severity":1,"message":"116","line":3,"column":9,"nodeType":"111","messageId":"112","endLine":3,"endColumn":21},{"ruleId":"109","severity":1,"message":"117","line":3,"column":23,"nodeType":"111","messageId":"112","endLine":3,"endColumn":36},{"ruleId":"109","severity":1,"message":"118","line":9,"column":9,"nodeType":"111","messageId":"112","endLine":9,"endColumn":13},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.","ArrayExpression",["121"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'SubMenu' is assigned a value but never used.","'Carousel' is defined but never used.","'Image' is defined but never used.","'LeftOutlined' is defined but never used.","'RightOutlined' is defined but never used.","'Meta' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},"Update the dependencies array to be: [props.history]",{"range":"124","text":"125"},[1614,1616],"[props.history]"]